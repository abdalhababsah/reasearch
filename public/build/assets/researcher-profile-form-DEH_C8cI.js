import{c as js,b as Ps,r as F,j as t,a as ns}from"./app-XseEcuwc.js";import{H as gs}from"./heading-small-DY-qSEz3.js";import{I as E}from"./input-error-Dx3_jmKc.js";import{B as ke}from"./button-DI4PaxQ7.js";import{I as me}from"./input-MwdOiVtB.js";import{L as z}from"./label-DepknyqC.js";import{T as bs}from"./textarea-UpJGMb4k.js";import{C as $s}from"./checkbox-JVt2AbBM.js";import{c as Is,u as _s}from"./index-CR-rnG23.js";import{A as vs,a as Ns,b as ys}from"./alert-P3b7wFRq.js";import{I as Ss}from"./app-layout-CZoO53OF.js";import{T as Es}from"./trash-2-amZuM-2x.js";import{P as ws}from"./plus-CF7Brvnu.js";import{X as Ds}from"./x-DgzPl7e4.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Cs=Is("Pen",Rs),us={title:"",company:"",start_date:"",end_date:"",description:"",is_current:!1},hs={institution:"",degree:"",field_of_study:"",start_date:"",end_date:"",description:""};function Ks($e){const e=js.c(305),{profile:a,experiences:d,educations:B,majors:Ne,selected_majors:de}=$e,l=a?.bio??"",w=a?.website??"",i=a?.phone??"",ue=a?.address??"",he=a?.linkedin_url??"",pe=a?.github_url??"";let ce;e[0]!==de?(ce=de??[],e[0]=de,e[1]=ce):ce=e[1];let je;e[2]!==l||e[3]!==w||e[4]!==i||e[5]!==ue||e[6]!==he||e[7]!==pe||e[8]!==ce?(je={bio:l,website:w,phone:i,address:ue,linkedin_url:he,github_url:pe,profile_image:null,remove_profile_image:!1,major_ids:ce,_method:"patch"},e[2]=l,e[3]=w,e[4]=i,e[5]=ue,e[6]=he,e[7]=pe,e[8]=ce,e[9]=je):je=e[9];const{data:c,setData:n,post:ye,processing:W,errors:f}=Ps(je),[u,v]=F.useState(null),[N,y]=F.useState(null);let $;e[10]===Symbol.for("react.memo_cache_sentinel")?($={...us},e[10]=$):$=e[10];const[Se,H]=F.useState($);let D;e[11]===Symbol.for("react.memo_cache_sentinel")?(D={...hs},e[11]=D):D=e[11];const[M,V]=F.useState(D);let be;e[12]!==de?(be=de||[],e[12]=de,e[13]=be):be=e[13],F.useState(be);let P;e[14]===Symbol.for("react.memo_cache_sentinel")?(P={},e[14]=P):P=e[14];const[p,ee]=F.useState(P);let _e;e[15]===Symbol.for("react.memo_cache_sentinel")?(_e={},e[15]=_e):_e=e[15];const[x,_]=F.useState(_e),[S,C]=F.useState(null),[fe,k]=F.useState(null),[g,Ce]=F.useState(!1),[G,J]=F.useState(!1),[m,X]=F.useState(a?.profile_image_url||null),{t:s}=_s();let te,se;e[16]!==m?(te=()=>()=>{m&&m.startsWith("blob:")&&URL.revokeObjectURL(m)},se=[m],e[16]=m,e[17]=te,e[18]=se):(te=e[17],se=e[18]),F.useEffect(te,se);const K=Ls;let le;e[19]===Symbol.for("react.memo_cache_sentinel")?(le=r=>{const o={};return!r.is_current&&K(r.start_date,r.end_date)&&(o.end_date="End date cannot be earlier than start date."),Object.keys(o).length?o:null},e[19]=le):le=e[19];const Fe=le;let I;e[20]===Symbol.for("react.memo_cache_sentinel")?(I=r=>{const o={};return K(r.start_date,r.end_date)&&(o.end_date="End date cannot be earlier than start date."),Object.keys(o).length?o:null},e[20]=I):I=e[20];const ie=I;let R,L;e[21]!==u?(R=()=>{u===null&&ee({})},L=[u],e[21]=u,e[22]=R,e[23]=L):(R=e[22],L=e[23]),F.useEffect(R,L);let re,ae;e[24]!==N?(re=()=>{N===null&&_({})},ae=[N],e[24]=N,e[25]=re,e[26]=ae):(re=e[25],ae=e[26]),F.useEffect(re,ae);let U;e[27]!==s?(U=r=>{confirm(s("researcher.deleteConfirm"))&&ns.delete(`/researcher/profile/experiences/${r}`,{preserveScroll:!0})},e[27]=s,e[28]=U):U=e[28];const Q=U;let ve;e[29]!==s?(ve=r=>{confirm(s("researcher.deleteConfirm"))&&ns.delete(`/researcher/profile/educations/${r}`,{preserveScroll:!0})},e[29]=s,e[30]=ve):ve=e[30];const Y=ve;let O;e[31]!==s?(O=r=>{C(null),ee({});const o=Fe(r);if(o){ee(o),C({type:"error",text:s("researcher.fixErrors")});return}const Ee=!!r.id,we={preserveScroll:!0,onStart:()=>Ce(!0),onFinish:()=>Ce(!1),onSuccess:()=>{ee({}),C({type:"success",text:s(Ee?"researcher.experienceUpdated":"researcher.experienceAdded")}),Ee||H({...us}),v(null)},onError:xs=>{ee(xs),C({type:"error",text:s("researcher.fixErrors")})}};Ee?ns.patch(`/researcher/profile/experiences/${r.id}`,r,we):ns.post("/researcher/profile/experiences",r,we)},e[31]=s,e[32]=O):O=e[32];const j=O;let A;e[33]===Symbol.for("react.memo_cache_sentinel")?(A=()=>{ee({}),C(null),H({...us}),v(0)},e[33]=A):A=e[33];const ne=A;let q;e[34]===Symbol.for("react.memo_cache_sentinel")?(q=()=>{v(null),ee({}),H({...us})},e[34]=q):q=e[34];const xe=q;let Z;e[35]===Symbol.for("react.memo_cache_sentinel")?(Z=()=>{_({}),k(null),V({...hs}),y(0)},e[35]=Z):Z=e[35];const oe=Z;let T;e[36]===Symbol.for("react.memo_cache_sentinel")?(T=()=>{y(null),_({}),V({...hs})},e[36]=T):T=e[36];const ge=T;let h;e[37]!==s?(h=r=>{k(null),_({});const o=ie(r);if(o){_(o),k({type:"error",text:s("researcher.fixErrors")});return}const Ee=!!r.id,we={preserveScroll:!0,onStart:()=>J(!0),onFinish:()=>J(!1),onSuccess:()=>{_({}),k({type:"success",text:s(Ee?"researcher.educationUpdated":"researcher.educationAdded")}),Ee||V({...hs}),y(null)},onError:xs=>{_(xs),k({type:"error",text:s("researcher.fixErrors")})}};Ee?ns.patch(`/researcher/profile/educations/${r.id}`,r,we):ns.post("/researcher/profile/educations",r,we)},e[37]=s,e[38]=h):h=e[38];const b=h;let os;e[39]!==ye?(os=r=>{r.preventDefault(),ye("/researcher/profile/update",{preserveScroll:!0,forceFormData:!0})},e[39]=ye,e[40]=os):os=e[40];const ps=os;let De;e[41]!==s?(De=s("researcher.infoSection"),e[41]=s,e[42]=De):De=e[42];let Pe;e[43]!==s?(Pe=s("researcher.infoDescription"),e[43]=s,e[44]=Pe):Pe=e[44];let Ie;e[45]!==De||e[46]!==Pe?(Ie=t.jsx(gs,{title:De,description:Pe}),e[45]=De,e[46]=Pe,e[47]=Ie):Ie=e[47];let Re;e[48]!==m||e[49]!==s?(Re=m?t.jsx("img",{src:m,alt:s("researcher.profileImageAlt",{defaultValue:"Profile image"}),className:"h-full w-full object-cover"}):t.jsx("div",{className:"flex h-full w-full items-center justify-center text-muted-foreground",children:t.jsx(Ss,{className:"h-10 w-10"})}),e[48]=m,e[49]=s,e[50]=Re):Re=e[50];let ds;e[51]===Symbol.for("react.memo_cache_sentinel")?(ds=t.jsx(Ss,{className:"h-4 w-4"}),e[51]=ds):ds=e[51];let Le;e[52]!==a?.profile_image_url||e[53]!==n?(Le=t.jsxs("label",{htmlFor:"profile_image",className:"absolute top-2 right-2 flex h-9 w-9 cursor-pointer items-center justify-center rounded-full bg-primary text-primary-foreground shadow-md transition hover:brightness-110",children:[ds,t.jsx("input",{id:"profile_image",name:"profile_image",type:"file",accept:"image/*",className:"sr-only",onChange:r=>{const o=r.target.files?.[0]??null;if(n("profile_image",o),n("remove_profile_image",!1),o){const Ee=URL.createObjectURL(o);X(we=>(we&&we.startsWith("blob:")&&URL.revokeObjectURL(we),Ee))}else X(a?.profile_image_url||null)}})]}),e[52]=a?.profile_image_url,e[53]=n,e[54]=Le):Le=e[54];let Ue;e[55]!==Re||e[56]!==Le?(Ue=t.jsxs("div",{className:"relative h-52 w-52 overflow-hidden rounded-xl border bg-background shadow-sm",children:[Re,Le]}),e[55]=Re,e[56]=Le,e[57]=Ue):Ue=e[57];let Oe;e[58]!==s?(Oe=s("researcher.profileImage"),e[58]=s,e[59]=Oe):Oe=e[59];let Ae;e[60]!==Oe?(Ae=t.jsx("p",{className:"font-medium text-foreground",children:Oe}),e[60]=Oe,e[61]=Ae):Ae=e[61];let qe;e[62]!==s?(qe=s("researcher.profileImageHelp"),e[62]=s,e[63]=qe):qe=e[63];let Te;e[64]!==qe?(Te=t.jsx("p",{className:"text-xs",children:qe}),e[64]=qe,e[65]=Te):Te=e[65];let ze;e[66]!==Ae||e[67]!==Te?(ze=t.jsxs("div",{className:"text-sm text-muted-foreground",children:[Ae,Te]}),e[66]=Ae,e[67]=Te,e[68]=ze):ze=e[68];let Be;e[69]!==f.profile_image?(Be=t.jsx(E,{message:f.profile_image}),e[69]=f.profile_image,e[70]=Be):Be=e[70];let We;e[71]!==m||e[72]!==n||e[73]!==s?(We=m&&t.jsx(ke,{type:"button",variant:"outline",size:"sm",onClick:()=>{m?.startsWith("blob:")&&URL.revokeObjectURL(m),X(null),n("profile_image",null),n("remove_profile_image",!0)},children:s("actions.remove")}),e[71]=m,e[72]=n,e[73]=s,e[74]=We):We=e[74];let He;e[75]!==ze||e[76]!==Be||e[77]!==We?(He=t.jsxs("div",{className:"flex flex-col items-start gap-2 sm:items-end",children:[ze,Be,We]}),e[75]=ze,e[76]=Be,e[77]=We,e[78]=He):He=e[78];let Me;e[79]!==Ue||e[80]!==He?(Me=t.jsx("div",{className:"rounded-xl border bg-card p-5 shadow-sm",children:t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[Ue,He]})}),e[79]=Ue,e[80]=He,e[81]=Me):Me=e[81];let Ve;e[82]!==s?(Ve=s("researcher.bio"),e[82]=s,e[83]=Ve):Ve=e[83];let Xe;e[84]!==Ve?(Xe=t.jsxs(z,{htmlFor:"bio",children:[Ve," *"]}),e[84]=Ve,e[85]=Xe):Xe=e[85];let Ge;e[86]!==s?(Ge=s("researcher.bioPlaceholder"),e[86]=s,e[87]=Ge):Ge=e[87];let Je;e[88]!==n?(Je=r=>n("bio",r.target.value),e[88]=n,e[89]=Je):Je=e[89];let Ke;e[90]!==c.bio||e[91]!==Ge||e[92]!==Je?(Ke=t.jsx(bs,{id:"bio",name:"bio",required:!0,rows:6,placeholder:Ge,value:c.bio,onChange:Je}),e[90]=c.bio,e[91]=Ge,e[92]=Je,e[93]=Ke):Ke=e[93];let Qe;e[94]!==f.bio?(Qe=t.jsx(E,{message:f.bio}),e[94]=f.bio,e[95]=Qe):Qe=e[95];let Ye;e[96]!==Xe||e[97]!==Ke||e[98]!==Qe?(Ye=t.jsxs("div",{className:"grid gap-2",children:[Xe,Ke,Qe]}),e[96]=Xe,e[97]=Ke,e[98]=Qe,e[99]=Ye):Ye=e[99];let Ze;e[100]!==s?(Ze=s("researcher.website"),e[100]=s,e[101]=Ze):Ze=e[101];let et;e[102]!==Ze?(et=t.jsx(z,{htmlFor:"website",children:Ze}),e[102]=Ze,e[103]=et):et=e[103];let tt;e[104]!==n?(tt=r=>n("website",r.target.value),e[104]=n,e[105]=tt):tt=e[105];let st;e[106]!==c.website||e[107]!==tt?(st=t.jsx(me,{id:"website",type:"url",name:"website",placeholder:"https://example.com",value:c.website,onChange:tt}),e[106]=c.website,e[107]=tt,e[108]=st):st=e[108];let lt;e[109]!==f.website?(lt=t.jsx(E,{message:f.website}),e[109]=f.website,e[110]=lt):lt=e[110];let it;e[111]!==et||e[112]!==st||e[113]!==lt?(it=t.jsxs("div",{className:"grid gap-2",children:[et,st,lt]}),e[111]=et,e[112]=st,e[113]=lt,e[114]=it):it=e[114];let rt;e[115]!==s?(rt=s("researcher.phone"),e[115]=s,e[116]=rt):rt=e[116];let at;e[117]!==rt?(at=t.jsx(z,{htmlFor:"phone",children:rt}),e[117]=rt,e[118]=at):at=e[118];let nt;e[119]!==n?(nt=r=>n("phone",r.target.value),e[119]=n,e[120]=nt):nt=e[120];let ot;e[121]!==c.phone||e[122]!==nt?(ot=t.jsx(me,{id:"phone",name:"phone",placeholder:"+966-555-123-456",value:c.phone,onChange:nt}),e[121]=c.phone,e[122]=nt,e[123]=ot):ot=e[123];let dt;e[124]!==f.phone?(dt=t.jsx(E,{message:f.phone}),e[124]=f.phone,e[125]=dt):dt=e[125];let ct;e[126]!==at||e[127]!==ot||e[128]!==dt?(ct=t.jsxs("div",{className:"grid gap-2",children:[at,ot,dt]}),e[126]=at,e[127]=ot,e[128]=dt,e[129]=ct):ct=e[129];let ft;e[130]!==it||e[131]!==ct?(ft=t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[it,ct]}),e[130]=it,e[131]=ct,e[132]=ft):ft=e[132];let mt;e[133]!==s?(mt=s("researcher.address"),e[133]=s,e[134]=mt):mt=e[134];let ut;e[135]!==mt?(ut=t.jsx(z,{htmlFor:"address",children:mt}),e[135]=mt,e[136]=ut):ut=e[136];let ht;e[137]!==n?(ht=r=>n("address",r.target.value),e[137]=n,e[138]=ht):ht=e[138];let pt;e[139]!==c.address||e[140]!==ht?(pt=t.jsx(me,{id:"address",name:"address",placeholder:"Riyadh, Saudi Arabia",value:c.address,onChange:ht}),e[139]=c.address,e[140]=ht,e[141]=pt):pt=e[141];let xt;e[142]!==f.address?(xt=t.jsx(E,{message:f.address}),e[142]=f.address,e[143]=xt):xt=e[143];let gt;e[144]!==ut||e[145]!==pt||e[146]!==xt?(gt=t.jsxs("div",{className:"grid gap-2",children:[ut,pt,xt]}),e[144]=ut,e[145]=pt,e[146]=xt,e[147]=gt):gt=e[147];let jt;e[148]!==s?(jt=s("researcher.linkedin"),e[148]=s,e[149]=jt):jt=e[149];let bt;e[150]!==jt?(bt=t.jsx(z,{htmlFor:"linkedin_url",children:jt}),e[150]=jt,e[151]=bt):bt=e[151];let _t;e[152]!==n?(_t=r=>n("linkedin_url",r.target.value),e[152]=n,e[153]=_t):_t=e[153];let vt;e[154]!==c.linkedin_url||e[155]!==_t?(vt=t.jsx(me,{id:"linkedin_url",type:"url",name:"linkedin_url",placeholder:"https://linkedin.com/in/username",value:c.linkedin_url,onChange:_t}),e[154]=c.linkedin_url,e[155]=_t,e[156]=vt):vt=e[156];let Nt;e[157]!==f.linkedin_url?(Nt=t.jsx(E,{message:f.linkedin_url}),e[157]=f.linkedin_url,e[158]=Nt):Nt=e[158];let yt;e[159]!==bt||e[160]!==vt||e[161]!==Nt?(yt=t.jsxs("div",{className:"grid gap-2",children:[bt,vt,Nt]}),e[159]=bt,e[160]=vt,e[161]=Nt,e[162]=yt):yt=e[162];let St;e[163]!==gt||e[164]!==yt?(St=t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[gt,yt]}),e[163]=gt,e[164]=yt,e[165]=St):St=e[165];let Et;e[166]!==s?(Et=s("researcher.github"),e[166]=s,e[167]=Et):Et=e[167];let wt;e[168]!==Et?(wt=t.jsx(z,{htmlFor:"github_url",children:Et}),e[168]=Et,e[169]=wt):wt=e[169];let Ct;e[170]!==n?(Ct=r=>n("github_url",r.target.value),e[170]=n,e[171]=Ct):Ct=e[171];let kt;e[172]!==c.github_url||e[173]!==Ct?(kt=t.jsx(me,{id:"github_url",type:"url",name:"github_url",placeholder:"https://github.com/username",value:c.github_url,onChange:Ct}),e[172]=c.github_url,e[173]=Ct,e[174]=kt):kt=e[174];let Ft;e[175]!==f.github_url?(Ft=t.jsx(E,{message:f.github_url}),e[175]=f.github_url,e[176]=Ft):Ft=e[176];let $t;e[177]!==wt||e[178]!==kt||e[179]!==Ft?($t=t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:t.jsxs("div",{className:"grid gap-2",children:[wt,kt,Ft]})}),e[177]=wt,e[178]=kt,e[179]=Ft,e[180]=$t):$t=e[180];let Dt;e[181]!==s?(Dt=s("researcher.researchAreas"),e[181]=s,e[182]=Dt):Dt=e[182];let Pt;e[183]!==Dt?(Pt=t.jsx(z,{children:Dt}),e[183]=Dt,e[184]=Pt):Pt=e[184];let It;if(e[185]!==c.major_ids||e[186]!==Ne||e[187]!==n){let r;e[189]!==c.major_ids||e[190]!==n?(r=o=>t.jsxs("label",{className:"flex cursor-pointer items-center space-x-3 rounded-lg border border-input bg-background p-4 text-sm font-medium shadow-sm transition hover:border-primary",children:[t.jsx($s,{checked:c.major_ids.includes(o.id),onCheckedChange:Ee=>{n("major_ids",Ee?[...c.major_ids,o.id]:c.major_ids.filter(we=>we!==o.id))}}),t.jsx("span",{children:o.name})]},o.id),e[189]=c.major_ids,e[190]=n,e[191]=r):r=e[191],It=Ne.map(r),e[185]=c.major_ids,e[186]=Ne,e[187]=n,e[188]=It}else It=e[188];let Rt;e[192]!==It?(Rt=t.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:It}),e[192]=It,e[193]=Rt):Rt=e[193];let Lt;e[194]!==f.major_ids?(Lt=t.jsx(E,{message:f.major_ids}),e[194]=f.major_ids,e[195]=Lt):Lt=e[195];let Ut;e[196]!==Pt||e[197]!==Rt||e[198]!==Lt?(Ut=t.jsxs("div",{className:"space-y-4",children:[Pt,Rt,Lt]}),e[196]=Pt,e[197]=Rt,e[198]=Lt,e[199]=Ut):Ut=e[199];let Ot;e[200]!==s?(Ot=s("researcher.saveProfile"),e[200]=s,e[201]=Ot):Ot=e[201];let At;e[202]!==W||e[203]!==Ot?(At=t.jsx(ke,{disabled:W,children:Ot}),e[202]=W,e[203]=Ot,e[204]=At):At=e[204];let qt;e[205]!==ps||e[206]!==Me||e[207]!==Ye||e[208]!==ft||e[209]!==St||e[210]!==$t||e[211]!==Ut||e[212]!==At?(qt=t.jsxs("form",{onSubmit:ps,encType:"multipart/form-data",className:"space-y-6",children:[Me,Ye,ft,St,$t,Ut,At]}),e[205]=ps,e[206]=Me,e[207]=Ye,e[208]=ft,e[209]=St,e[210]=$t,e[211]=Ut,e[212]=At,e[213]=qt):qt=e[213];let Tt;e[214]!==Ie||e[215]!==qt?(Tt=t.jsxs("div",{className:"space-y-6",children:[Ie,qt]}),e[214]=Ie,e[215]=qt,e[216]=Tt):Tt=e[216];let zt;e[217]!==s?(zt=s("researcher.experienceSection"),e[217]=s,e[218]=zt):zt=e[218];let Bt;e[219]!==s?(Bt=s("researcher.experienceDescription"),e[219]=s,e[220]=Bt):Bt=e[220];let Wt;e[221]!==zt||e[222]!==Bt?(Wt=t.jsx(gs,{title:zt,description:Bt}),e[221]=zt,e[222]=Bt,e[223]=Wt):Wt=e[223];let Ht;e[224]!==S||e[225]!==s?(Ht=S&&t.jsxs(vs,{variant:S.type==="error"?"destructive":"default",className:"border",children:[t.jsx(Ns,{children:S.type==="error"?s("notifications.error"):s("notifications.success")}),t.jsx(ys,{children:S.text})]}),e[224]=S,e[225]=s,e[226]=Ht):Ht=e[226];let Mt;if(e[227]!==u||e[228]!==p||e[229]!==g||e[230]!==d||e[231]!==Q||e[232]!==j){let r;e[234]!==u||e[235]!==p||e[236]!==g||e[237]!==Q||e[238]!==j?(r=o=>t.jsxs("div",{className:"rounded-lg border border-border bg-card p-4 shadow-sm",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:o.title}),t.jsx("p",{className:"text-sm text-muted-foreground",children:o.company}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.start_date," -"," ",o.is_current?"Present":o.end_date]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ke,{variant:"ghost",size:"icon",onClick:()=>v(o.id),children:t.jsx(Cs,{className:"h-4 w-4"})}),t.jsx(ke,{variant:"ghost",size:"icon",onClick:()=>Q(o.id),children:t.jsx(Es,{className:"h-4 w-4"})})]})]}),u===o.id&&t.jsx(ks,{experience:o,errors:p,submitting:g,onSubmit:j,onCancel:()=>v(null)})]},o.id),e[234]=u,e[235]=p,e[236]=g,e[237]=Q,e[238]=j,e[239]=r):r=e[239],Mt=d.map(r),e[227]=u,e[228]=p,e[229]=g,e[230]=d,e[231]=Q,e[232]=j,e[233]=Mt}else Mt=e[233];let Vt;e[240]!==Mt?(Vt=t.jsx("div",{className:"grid gap-4",children:Mt}),e[240]=Mt,e[241]=Vt):Vt=e[241];let cs;e[242]===Symbol.for("react.memo_cache_sentinel")?(cs=t.jsx(ws,{className:"h-4 w-4"}),e[242]=cs):cs=e[242];let Xt;e[243]!==s?(Xt=s("researcher.addExperience"),e[243]=s,e[244]=Xt):Xt=e[244];let Gt;e[245]!==Xt?(Gt=t.jsx("div",{className:"rounded-lg border border-dashed p-4",children:t.jsxs("button",{type:"button",onClick:ne,className:"flex w-full items-center justify-center gap-2 text-sm text-muted-foreground",children:[cs," ",Xt]})}),e[245]=Xt,e[246]=Gt):Gt=e[246];let Jt;e[247]!==u||e[248]!==p||e[249]!==g||e[250]!==j||e[251]!==Se?(Jt=u===0&&t.jsx(ks,{experience:Se,errors:p,submitting:g,onSubmit:j,onCancel:xe}),e[247]=u,e[248]=p,e[249]=g,e[250]=j,e[251]=Se,e[252]=Jt):Jt=e[252];let Kt;e[253]!==Vt||e[254]!==Gt||e[255]!==Jt||e[256]!==Wt||e[257]!==Ht?(Kt=t.jsxs("div",{className:"space-y-6",children:[Wt,Ht,Vt,Gt,Jt]}),e[253]=Vt,e[254]=Gt,e[255]=Jt,e[256]=Wt,e[257]=Ht,e[258]=Kt):Kt=e[258];let Qt;e[259]!==s?(Qt=s("researcher.educationSection"),e[259]=s,e[260]=Qt):Qt=e[260];let Yt;e[261]!==s?(Yt=s("researcher.educationDescription"),e[261]=s,e[262]=Yt):Yt=e[262];let Zt;e[263]!==Qt||e[264]!==Yt?(Zt=t.jsx(gs,{title:Qt,description:Yt}),e[263]=Qt,e[264]=Yt,e[265]=Zt):Zt=e[265];let es;e[266]!==fe||e[267]!==s?(es=fe&&t.jsxs(vs,{variant:fe.type==="error"?"destructive":"default",className:"border",children:[t.jsx(Ns,{children:fe.type==="error"?s("notifications.error"):s("notifications.success")}),t.jsx(ys,{children:fe.text})]}),e[266]=fe,e[267]=s,e[268]=es):es=e[268];let ts;if(e[269]!==N||e[270]!==x||e[271]!==G||e[272]!==B||e[273]!==Y||e[274]!==b){let r;e[276]!==N||e[277]!==x||e[278]!==G||e[279]!==Y||e[280]!==b?(r=o=>t.jsxs("div",{className:"rounded-lg border border-border bg-card p-4 shadow-sm",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:o.degree}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.institution," - ",o.field_of_study]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.start_date," - ",o.end_date]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ke,{variant:"ghost",size:"icon",onClick:()=>y(o.id),children:t.jsx(Cs,{className:"h-4 w-4"})}),t.jsx(ke,{variant:"ghost",size:"icon",onClick:()=>Y(o.id),children:t.jsx(Es,{className:"h-4 w-4"})})]})]}),N===o.id&&t.jsx(Fs,{education:o,errors:x,submitting:G,onSubmit:b,onCancel:()=>y(null)})]},o.id),e[276]=N,e[277]=x,e[278]=G,e[279]=Y,e[280]=b,e[281]=r):r=e[281],ts=B.map(r),e[269]=N,e[270]=x,e[271]=G,e[272]=B,e[273]=Y,e[274]=b,e[275]=ts}else ts=e[275];let ss;e[282]!==ts?(ss=t.jsx("div",{className:"grid gap-4",children:ts}),e[282]=ts,e[283]=ss):ss=e[283];let fs;e[284]===Symbol.for("react.memo_cache_sentinel")?(fs=t.jsx(ws,{className:"h-4 w-4"}),e[284]=fs):fs=e[284];let ls;e[285]!==s?(ls=s("researcher.addEducation"),e[285]=s,e[286]=ls):ls=e[286];let is;e[287]!==ls?(is=t.jsx("div",{className:"rounded-lg border border-dashed p-4",children:t.jsxs("button",{type:"button",onClick:oe,className:"flex w-full items-center justify-center gap-2 text-sm text-muted-foreground",children:[fs," ",ls]})}),e[287]=ls,e[288]=is):is=e[288];let rs;e[289]!==N||e[290]!==x||e[291]!==G||e[292]!==b||e[293]!==M?(rs=N===0&&t.jsx(Fs,{education:M,errors:x,submitting:G,onSubmit:b,onCancel:ge}),e[289]=N,e[290]=x,e[291]=G,e[292]=b,e[293]=M,e[294]=rs):rs=e[294];let as;e[295]!==Zt||e[296]!==es||e[297]!==ss||e[298]!==is||e[299]!==rs?(as=t.jsxs("div",{className:"space-y-6",children:[Zt,es,ss,is,rs]}),e[295]=Zt,e[296]=es,e[297]=ss,e[298]=is,e[299]=rs,e[300]=as):as=e[300];let ms;return e[301]!==Kt||e[302]!==as||e[303]!==Tt?(ms=t.jsxs("div",{className:"space-y-8 p-6",children:[Tt,Kt,as]}),e[301]=Kt,e[302]=as,e[303]=Tt,e[304]=ms):ms=e[304],ms}function Ls($e,e){if(!$e||!e)return!1;const a=new Date($e),d=new Date(e);return Number.isNaN(a.valueOf())||Number.isNaN(d.valueOf())?!1:d<a}function ks($e){const e=js.c(135),{experience:a,errors:d,submitting:B,onSubmit:Ne,onCancel:de}=$e,[l,w]=F.useState(a),{t:i}=_s();let ue,he;e[0]!==a?(ue=()=>{w(a)},he=[a],e[0]=a,e[1]=ue,e[2]=he):(ue=e[1],he=e[2]),F.useEffect(ue,he);let pe;e[3]!==l||e[4]!==Ne?(pe=h=>{h.preventDefault(),Ne(l)},e[3]=l,e[4]=Ne,e[5]=pe):pe=e[5];const ce=pe,je=`title-${a.id}`;let c;e[6]!==i?(c=i("researcher.title"),e[6]=i,e[7]=c):c=e[7];let n;e[8]!==je||e[9]!==c?(n=t.jsx(z,{htmlFor:je,children:c}),e[8]=je,e[9]=c,e[10]=n):n=e[10];const ye=`title-${a.id}`;let W;e[11]!==l?(W=h=>w({...l,title:h.target.value}),e[11]=l,e[12]=W):W=e[12];let f;e[13]!==l.title||e[14]!==ye||e[15]!==W?(f=t.jsx(me,{id:ye,value:l.title,onChange:W,required:!0}),e[13]=l.title,e[14]=ye,e[15]=W,e[16]=f):f=e[16];let u;e[17]!==d.title?(u=t.jsx(E,{message:d.title}),e[17]=d.title,e[18]=u):u=e[18];let v;e[19]!==u||e[20]!==n||e[21]!==f?(v=t.jsxs("div",{className:"grid gap-2",children:[n,f,u]}),e[19]=u,e[20]=n,e[21]=f,e[22]=v):v=e[22];const N=`company-${a.id}`;let y;e[23]!==i?(y=i("researcher.company"),e[23]=i,e[24]=y):y=e[24];let $;e[25]!==N||e[26]!==y?($=t.jsx(z,{htmlFor:N,children:y}),e[25]=N,e[26]=y,e[27]=$):$=e[27];const Se=`company-${a.id}`;let H;e[28]!==l?(H=h=>w({...l,company:h.target.value}),e[28]=l,e[29]=H):H=e[29];let D;e[30]!==l.company||e[31]!==Se||e[32]!==H?(D=t.jsx(me,{id:Se,value:l.company,onChange:H,required:!0}),e[30]=l.company,e[31]=Se,e[32]=H,e[33]=D):D=e[33];let M;e[34]!==d.company?(M=t.jsx(E,{message:d.company}),e[34]=d.company,e[35]=M):M=e[35];let V;e[36]!==$||e[37]!==D||e[38]!==M?(V=t.jsxs("div",{className:"grid gap-2",children:[$,D,M]}),e[36]=$,e[37]=D,e[38]=M,e[39]=V):V=e[39];const be=`start_date-${a.id}`;let P;e[40]!==i?(P=i("researcher.startDate"),e[40]=i,e[41]=P):P=e[41];let p;e[42]!==be||e[43]!==P?(p=t.jsx(z,{htmlFor:be,children:P}),e[42]=be,e[43]=P,e[44]=p):p=e[44];const ee=`start_date-${a.id}`,_e=l.start_date||"";let x;e[45]!==l?(x=h=>w({...l,start_date:h.target.value}),e[45]=l,e[46]=x):x=e[46];let _;e[47]!==ee||e[48]!==_e||e[49]!==x?(_=t.jsx(me,{id:ee,type:"date",value:_e,onChange:x}),e[47]=ee,e[48]=_e,e[49]=x,e[50]=_):_=e[50];let S;e[51]!==d.start_date?(S=t.jsx(E,{message:d.start_date}),e[51]=d.start_date,e[52]=S):S=e[52];let C;e[53]!==p||e[54]!==_||e[55]!==S?(C=t.jsxs("div",{className:"grid gap-2",children:[p,_,S]}),e[53]=p,e[54]=_,e[55]=S,e[56]=C):C=e[56];const fe=`end_date-${a.id}`;let k;e[57]!==i?(k=i("researcher.endDate"),e[57]=i,e[58]=k):k=e[58];let g;e[59]!==fe||e[60]!==k?(g=t.jsx(z,{htmlFor:fe,children:k}),e[59]=fe,e[60]=k,e[61]=g):g=e[61];const Ce=`end_date-${a.id}`,G=l.end_date||"";let J;e[62]!==l?(J=h=>w({...l,end_date:h.target.value}),e[62]=l,e[63]=J):J=e[63];let m;e[64]!==l.is_current||e[65]!==Ce||e[66]!==G||e[67]!==J?(m=t.jsx(me,{id:Ce,type:"date",value:G,onChange:J,disabled:l.is_current}),e[64]=l.is_current,e[65]=Ce,e[66]=G,e[67]=J,e[68]=m):m=e[68];let X;e[69]!==d.end_date?(X=t.jsx(E,{message:d.end_date}),e[69]=d.end_date,e[70]=X):X=e[70];let s;e[71]!==g||e[72]!==m||e[73]!==X?(s=t.jsxs("div",{className:"grid gap-2",children:[g,m,X]}),e[71]=g,e[72]=m,e[73]=X,e[74]=s):s=e[74];let te;e[75]!==C||e[76]!==s?(te=t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[C,s]}),e[75]=C,e[76]=s,e[77]=te):te=e[77];const se=`is_current-${a.id}`;let K;e[78]!==l?(K=h=>w({...l,is_current:!!h,end_date:h?"":l.end_date}),e[78]=l,e[79]=K):K=e[79];let le;e[80]!==l.is_current||e[81]!==se||e[82]!==K?(le=t.jsx($s,{id:se,checked:l.is_current,onCheckedChange:K}),e[80]=l.is_current,e[81]=se,e[82]=K,e[83]=le):le=e[83];const Fe=`is_current-${a.id}`;let I;e[84]!==i?(I=i("researcher.currentlyWorking"),e[84]=i,e[85]=I):I=e[85];let ie;e[86]!==Fe||e[87]!==I?(ie=t.jsx("label",{htmlFor:Fe,className:"text-sm",children:I}),e[86]=Fe,e[87]=I,e[88]=ie):ie=e[88];let R;e[89]!==le||e[90]!==ie?(R=t.jsxs("div",{className:"flex items-center space-x-2",children:[le,ie]}),e[89]=le,e[90]=ie,e[91]=R):R=e[91];let L;e[92]!==d.is_current?(L=t.jsx(E,{message:d.is_current}),e[92]=d.is_current,e[93]=L):L=e[93];const re=`description-${a.id}`;let ae;e[94]!==i?(ae=i("researcher.description"),e[94]=i,e[95]=ae):ae=e[95];let U;e[96]!==re||e[97]!==ae?(U=t.jsx(z,{htmlFor:re,children:ae}),e[96]=re,e[97]=ae,e[98]=U):U=e[98];const Q=`description-${a.id}`,ve=l.description||"";let Y;e[99]!==l?(Y=h=>w({...l,description:h.target.value}),e[99]=l,e[100]=Y):Y=e[100];let O;e[101]!==Q||e[102]!==ve||e[103]!==Y?(O=t.jsx(bs,{id:Q,value:ve,onChange:Y,rows:4}),e[101]=Q,e[102]=ve,e[103]=Y,e[104]=O):O=e[104];let j;e[105]!==d.description?(j=t.jsx(E,{message:d.description}),e[105]=d.description,e[106]=j):j=e[106];let A;e[107]!==U||e[108]!==O||e[109]!==j?(A=t.jsxs("div",{className:"grid gap-2",children:[U,O,j]}),e[107]=U,e[108]=O,e[109]=j,e[110]=A):A=e[110];let ne;e[111]!==i?(ne=i("actions.save"),e[111]=i,e[112]=ne):ne=e[112];let q;e[113]!==B||e[114]!==ne?(q=t.jsx(ke,{type:"submit",disabled:B,children:ne}),e[113]=B,e[114]=ne,e[115]=q):q=e[115];let xe;e[116]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx(Ds,{className:"mr-2 h-4 w-4"}),e[116]=xe):xe=e[116];let Z;e[117]!==i?(Z=i("actions.cancel"),e[117]=i,e[118]=Z):Z=e[118];let oe;e[119]!==de||e[120]!==B||e[121]!==Z?(oe=t.jsxs(ke,{type:"button",variant:"ghost",onClick:de,disabled:B,children:[xe," ",Z]}),e[119]=de,e[120]=B,e[121]=Z,e[122]=oe):oe=e[122];let T;e[123]!==q||e[124]!==oe?(T=t.jsxs("div",{className:"flex gap-2",children:[q,oe]}),e[123]=q,e[124]=oe,e[125]=T):T=e[125];let ge;return e[126]!==ce||e[127]!==v||e[128]!==V||e[129]!==te||e[130]!==R||e[131]!==L||e[132]!==A||e[133]!==T?(ge=t.jsxs("form",{onSubmit:ce,className:"mt-4 space-y-4 rounded-md border bg-muted/40 p-4",children:[v,V,te,R,L,A,T]}),e[126]=ce,e[127]=v,e[128]=V,e[129]=te,e[130]=R,e[131]=L,e[132]=A,e[133]=T,e[134]=ge):ge=e[134],ge}function Fs($e){const e=js.c(134),{education:a,errors:d,submitting:B,onSubmit:Ne,onCancel:de}=$e,[l,w]=F.useState(a),{t:i}=_s();let ue,he;e[0]!==a?(ue=()=>{w(a)},he=[a],e[0]=a,e[1]=ue,e[2]=he):(ue=e[1],he=e[2]),F.useEffect(ue,he);let pe;e[3]!==l||e[4]!==Ne?(pe=b=>{b.preventDefault(),Ne(l)},e[3]=l,e[4]=Ne,e[5]=pe):pe=e[5];const ce=pe,je=`institution-${a.id}`;let c;e[6]!==i?(c=i("researcher.institution"),e[6]=i,e[7]=c):c=e[7];let n;e[8]!==je||e[9]!==c?(n=t.jsx(z,{htmlFor:je,children:c}),e[8]=je,e[9]=c,e[10]=n):n=e[10];const ye=`institution-${a.id}`;let W;e[11]!==l?(W=b=>w({...l,institution:b.target.value}),e[11]=l,e[12]=W):W=e[12];let f;e[13]!==l.institution||e[14]!==ye||e[15]!==W?(f=t.jsx(me,{id:ye,value:l.institution,onChange:W,required:!0}),e[13]=l.institution,e[14]=ye,e[15]=W,e[16]=f):f=e[16];let u;e[17]!==d.institution?(u=t.jsx(E,{message:d.institution}),e[17]=d.institution,e[18]=u):u=e[18];let v;e[19]!==u||e[20]!==n||e[21]!==f?(v=t.jsxs("div",{className:"grid gap-2",children:[n,f,u]}),e[19]=u,e[20]=n,e[21]=f,e[22]=v):v=e[22];const N=`degree-${a.id}`;let y;e[23]!==i?(y=i("researcher.degree"),e[23]=i,e[24]=y):y=e[24];let $;e[25]!==N||e[26]!==y?($=t.jsx(z,{htmlFor:N,children:y}),e[25]=N,e[26]=y,e[27]=$):$=e[27];const Se=`degree-${a.id}`;let H;e[28]!==l?(H=b=>w({...l,degree:b.target.value}),e[28]=l,e[29]=H):H=e[29];let D;e[30]!==l.degree||e[31]!==Se||e[32]!==H?(D=t.jsx(me,{id:Se,value:l.degree,onChange:H,required:!0}),e[30]=l.degree,e[31]=Se,e[32]=H,e[33]=D):D=e[33];let M;e[34]!==d.degree?(M=t.jsx(E,{message:d.degree}),e[34]=d.degree,e[35]=M):M=e[35];let V;e[36]!==$||e[37]!==D||e[38]!==M?(V=t.jsxs("div",{className:"grid gap-2",children:[$,D,M]}),e[36]=$,e[37]=D,e[38]=M,e[39]=V):V=e[39];const be=`field_of_study-${a.id}`;let P;e[40]!==i?(P=i("researcher.field"),e[40]=i,e[41]=P):P=e[41];let p;e[42]!==be||e[43]!==P?(p=t.jsx(z,{htmlFor:be,children:P}),e[42]=be,e[43]=P,e[44]=p):p=e[44];const ee=`field_of_study-${a.id}`,_e=l.field_of_study||"";let x;e[45]!==l?(x=b=>w({...l,field_of_study:b.target.value}),e[45]=l,e[46]=x):x=e[46];let _;e[47]!==ee||e[48]!==_e||e[49]!==x?(_=t.jsx(me,{id:ee,value:_e,onChange:x}),e[47]=ee,e[48]=_e,e[49]=x,e[50]=_):_=e[50];let S;e[51]!==d.field_of_study?(S=t.jsx(E,{message:d.field_of_study}),e[51]=d.field_of_study,e[52]=S):S=e[52];let C;e[53]!==p||e[54]!==_||e[55]!==S?(C=t.jsxs("div",{className:"grid gap-2",children:[p,_,S]}),e[53]=p,e[54]=_,e[55]=S,e[56]=C):C=e[56];const fe=`edu_start_date-${a.id}`;let k;e[57]!==i?(k=i("researcher.startDate"),e[57]=i,e[58]=k):k=e[58];let g;e[59]!==fe||e[60]!==k?(g=t.jsx(z,{htmlFor:fe,children:k}),e[59]=fe,e[60]=k,e[61]=g):g=e[61];const Ce=`edu_start_date-${a.id}`,G=l.start_date||"";let J;e[62]!==l?(J=b=>w({...l,start_date:b.target.value}),e[62]=l,e[63]=J):J=e[63];let m;e[64]!==Ce||e[65]!==G||e[66]!==J?(m=t.jsx(me,{id:Ce,type:"date",value:G,onChange:J}),e[64]=Ce,e[65]=G,e[66]=J,e[67]=m):m=e[67];let X;e[68]!==d.start_date?(X=t.jsx(E,{message:d.start_date}),e[68]=d.start_date,e[69]=X):X=e[69];let s;e[70]!==g||e[71]!==m||e[72]!==X?(s=t.jsxs("div",{className:"grid gap-2",children:[g,m,X]}),e[70]=g,e[71]=m,e[72]=X,e[73]=s):s=e[73];const te=`edu_end_date-${a.id}`;let se;e[74]!==i?(se=i("researcher.endDate"),e[74]=i,e[75]=se):se=e[75];let K;e[76]!==te||e[77]!==se?(K=t.jsx(z,{htmlFor:te,children:se}),e[76]=te,e[77]=se,e[78]=K):K=e[78];const le=`edu_end_date-${a.id}`,Fe=l.end_date||"";let I;e[79]!==l?(I=b=>w({...l,end_date:b.target.value}),e[79]=l,e[80]=I):I=e[80];let ie;e[81]!==le||e[82]!==Fe||e[83]!==I?(ie=t.jsx(me,{id:le,type:"date",value:Fe,onChange:I}),e[81]=le,e[82]=Fe,e[83]=I,e[84]=ie):ie=e[84];let R;e[85]!==d.end_date?(R=t.jsx(E,{message:d.end_date}),e[85]=d.end_date,e[86]=R):R=e[86];let L;e[87]!==K||e[88]!==ie||e[89]!==R?(L=t.jsxs("div",{className:"grid gap-2",children:[K,ie,R]}),e[87]=K,e[88]=ie,e[89]=R,e[90]=L):L=e[90];let re;e[91]!==s||e[92]!==L?(re=t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s,L]}),e[91]=s,e[92]=L,e[93]=re):re=e[93];const ae=`edu_description-${a.id}`;let U;e[94]!==i?(U=i("researcher.description"),e[94]=i,e[95]=U):U=e[95];let Q;e[96]!==ae||e[97]!==U?(Q=t.jsx(z,{htmlFor:ae,children:U}),e[96]=ae,e[97]=U,e[98]=Q):Q=e[98];const ve=`edu_description-${a.id}`,Y=l.description||"";let O;e[99]!==l?(O=b=>w({...l,description:b.target.value}),e[99]=l,e[100]=O):O=e[100];let j;e[101]!==ve||e[102]!==Y||e[103]!==O?(j=t.jsx(bs,{id:ve,value:Y,onChange:O,rows:4}),e[101]=ve,e[102]=Y,e[103]=O,e[104]=j):j=e[104];let A;e[105]!==d.description?(A=t.jsx(E,{message:d.description}),e[105]=d.description,e[106]=A):A=e[106];let ne;e[107]!==Q||e[108]!==j||e[109]!==A?(ne=t.jsxs("div",{className:"grid gap-2",children:[Q,j,A]}),e[107]=Q,e[108]=j,e[109]=A,e[110]=ne):ne=e[110];let q;e[111]!==i?(q=i("actions.save"),e[111]=i,e[112]=q):q=e[112];let xe;e[113]!==B||e[114]!==q?(xe=t.jsx(ke,{type:"submit",disabled:B,children:q}),e[113]=B,e[114]=q,e[115]=xe):xe=e[115];let Z;e[116]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(Ds,{className:"mr-2 h-4 w-4"}),e[116]=Z):Z=e[116];let oe;e[117]!==i?(oe=i("actions.cancel"),e[117]=i,e[118]=oe):oe=e[118];let T;e[119]!==de||e[120]!==B||e[121]!==oe?(T=t.jsxs(ke,{type:"button",variant:"ghost",onClick:de,disabled:B,children:[Z," ",oe]}),e[119]=de,e[120]=B,e[121]=oe,e[122]=T):T=e[122];let ge;e[123]!==xe||e[124]!==T?(ge=t.jsxs("div",{className:"flex gap-2",children:[xe,T]}),e[123]=xe,e[124]=T,e[125]=ge):ge=e[125];let h;return e[126]!==ce||e[127]!==v||e[128]!==V||e[129]!==C||e[130]!==re||e[131]!==ne||e[132]!==ge?(h=t.jsxs("form",{onSubmit:ce,className:"mt-4 space-y-4 rounded-md border bg-muted/40 p-4",children:[v,V,C,re,ne,ge]}),e[126]=ce,e[127]=v,e[128]=V,e[129]=C,e[130]=re,e[131]=ne,e[132]=ge,e[133]=h):h=e[133],h}export{Ks as R};
