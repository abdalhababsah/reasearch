import{c as ne,u as oe,r as ce,b as me,j as s}from"./app-XseEcuwc.js";import{B as se}from"./button-DI4PaxQ7.js";import{D as de,a as fe,b as pe,c as he,d as ge,e as be}from"./dialog-DBndcIzu.js";import{I as ue}from"./input-MwdOiVtB.js";import{L as le}from"./label-DepknyqC.js";import{T as xe}from"./textarea-UpJGMb4k.js";import{u as je}from"./index-CR-rnG23.js";import{L as Ce}from"./loader-circle-v5nqKdhA.js";import{P as ve}from"./plus-CF7Brvnu.js";/* empty css            */import"./index-BHKBQx4H.js";import"./index-C3Hm02L2.js";import"./index-DRE42a0L.js";import"./index-BDsVhmEQ.js";import"./index-DPjtb1Rz.js";import"./x-DgzPl7e4.js";const W=["#ef4444","#f97316","#f59e0b","#eab308","#84cc16","#22c55e","#10b981","#14b8a6","#06b6d4","#0ea5e9","#3b82f6","#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899"];function _e(ie){const e=ne.c(109),{open:X,onOpenChange:n}=ie,{t}=je();oe();const[o,ae]=ce.useState(W[0]);let K;e[0]===Symbol.for("react.memo_cache_sentinel")?(K={name:"",color:W[0],description:""},e[0]=K):K=e[0];const{data:c,setData:i,post:Y,processing:l,errors:r,reset:Z}=me(K);let M;e[1]!==n||e[2]!==Y||e[3]!==Z||e[4]!==o||e[5]!==i?(M=a=>{a.preventDefault();const re=window.location.pathname.split("/")[3];i("color",o),Y(`/researcher/images/${re}/labels`,{preserveScroll:!0,preserveState:!0,onSuccess:()=>{Z(),ae(W[0]),n(!1)}})},e[1]=n,e[2]=Y,e[3]=Z,e[4]=o,e[5]=i,e[6]=M):M=e[6];const ee=M;let Q;e[7]!==i?(Q=a=>{ae(a),i("color",a)},e[7]=i,e[8]=Q):Q=e[8];const te=Q;let U;e[9]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx(ve,{className:"h-4 w-4 mr-2"}),e[9]=U):U=e[9];let m;e[10]!==t?(m=t("images.annotate.addLabel")||"Add Label",e[10]=t,e[11]=m):m=e[11];let d;e[12]!==m?(d=s.jsx(de,{asChild:!0,children:s.jsxs(se,{size:"sm",variant:"outline",type:"button",children:[U,m]})}),e[12]=m,e[13]=d):d=e[13];let f;e[14]!==t?(f=t("images.annotate.createLabel")||"Create Label",e[14]=t,e[15]=f):f=e[15];let p;e[16]!==f?(p=s.jsx(fe,{children:f}),e[16]=f,e[17]=p):p=e[17];let h;e[18]!==t?(h=t("images.annotate.createLabelDescription")||"Create a new label for annotating this image",e[18]=t,e[19]=h):h=e[19];let g;e[20]!==h?(g=s.jsx(pe,{children:h}),e[20]=h,e[21]=g):g=e[21];let b;e[22]!==g||e[23]!==p?(b=s.jsxs(he,{children:[p,g]}),e[22]=g,e[23]=p,e[24]=b):b=e[24];let u;e[25]!==t?(u=t("images.annotate.labelName")||"Label Name",e[25]=t,e[26]=u):u=e[26];let x;e[27]!==u?(x=s.jsx(le,{htmlFor:"name",children:u}),e[27]=u,e[28]=x):x=e[28];let j;e[29]!==i?(j=a=>i("name",a.target.value),e[29]=i,e[30]=j):j=e[30];let C;e[31]!==t?(C=t("images.annotate.labelNamePlaceholder")||"e.g., Person, Car",e[31]=t,e[32]=C):C=e[32];let v;e[33]!==c.name||e[34]!==l||e[35]!==j||e[36]!==C?(v=s.jsx(ue,{id:"name",value:c.name,onChange:j,placeholder:C,disabled:l,required:!0}),e[33]=c.name,e[34]=l,e[35]=j,e[36]=C,e[37]=v):v=e[37];let D;e[38]!==r.name?(D=r.name&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:r.name}),e[38]=r.name,e[39]=D):D=e[39];let L;e[40]!==x||e[41]!==v||e[42]!==D?(L=s.jsxs("div",{children:[x,v,D]}),e[40]=x,e[41]=v,e[42]=D,e[43]=L):L=e[43];let N;e[44]!==t?(N=t("images.annotate.labelColor")||"Label Color",e[44]=t,e[45]=N):N=e[45];let S;e[46]!==N?(S=s.jsx(le,{children:N}),e[46]=N,e[47]=S):S=e[47];let y;e[48]!==te||e[49]!==o?(y=W.map(a=>s.jsx("button",{type:"button",onClick:()=>te(a),className:`h-8 w-8 rounded-md transition-all ${o===a?"ring-2 ring-offset-2 ring-gray-400 scale-110":"hover:scale-110"}`,style:{backgroundColor:a}},a)),e[48]=te,e[49]=o,e[50]=y):y=e[50];let w;e[51]!==y?(w=s.jsx("div",{className:"grid grid-cols-8 gap-2 mt-2",children:y}),e[51]=y,e[52]=w):w=e[52];let P;e[53]!==r.color?(P=r.color&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:r.color}),e[53]=r.color,e[54]=P):P=e[54];let T;e[55]!==S||e[56]!==w||e[57]!==P?(T=s.jsxs("div",{children:[S,w,P]}),e[55]=S,e[56]=w,e[57]=P,e[58]=T):T=e[58];let E;e[59]!==t?(E=t("images.annotate.labelDescription")||"Description (Optional)",e[59]=t,e[60]=E):E=e[60];let F;e[61]!==E?(F=s.jsx(le,{htmlFor:"description",children:E}),e[61]=E,e[62]=F):F=e[62];let O;e[63]!==i?(O=a=>i("description",a.target.value),e[63]=i,e[64]=O):O=e[64];let R;e[65]!==t?(R=t("images.annotate.labelDescriptionPlaceholder")||"Describe what this label represents",e[65]=t,e[66]=R):R=e[66];let k;e[67]!==c.description||e[68]!==l||e[69]!==O||e[70]!==R?(k=s.jsx(xe,{id:"description",value:c.description,onChange:O,placeholder:R,rows:3,disabled:l}),e[67]=c.description,e[68]=l,e[69]=O,e[70]=R,e[71]=k):k=e[71];let I;e[72]!==r.description?(I=r.description&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:r.description}),e[72]=r.description,e[73]=I):I=e[73];let $;e[74]!==F||e[75]!==k||e[76]!==I?($=s.jsxs("div",{children:[F,k,I]}),e[74]=F,e[75]=k,e[76]=I,e[77]=$):$=e[77];let B;e[78]!==n?(B=()=>n(!1),e[78]=n,e[79]=B):B=e[79];let _;e[80]!==t?(_=t("actions.cancel")||"Cancel",e[80]=t,e[81]=_):_=e[81];let q;e[82]!==l||e[83]!==B||e[84]!==_?(q=s.jsx(se,{type:"button",variant:"outline",onClick:B,disabled:l,children:_}),e[82]=l,e[83]=B,e[84]=_,e[85]=q):q=e[85];let z;e[86]!==l||e[87]!==t?(z=l?s.jsxs(s.Fragment,{children:[s.jsx(Ce,{className:"h-4 w-4 mr-2 animate-spin"}),t("images.annotate.creating")||"Creating..."]}):t("actions.create")||"Create",e[86]=l,e[87]=t,e[88]=z):z=e[88];let A;e[89]!==l||e[90]!==z?(A=s.jsx(se,{type:"submit",disabled:l,children:z}),e[89]=l,e[90]=z,e[91]=A):A=e[91];let H;e[92]!==q||e[93]!==A?(H=s.jsxs("div",{className:"flex justify-end gap-2",children:[q,A]}),e[92]=q,e[93]=A,e[94]=H):H=e[94];let G;e[95]!==ee||e[96]!==L||e[97]!==T||e[98]!==$||e[99]!==H?(G=s.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[L,T,$,H]}),e[95]=ee,e[96]=L,e[97]=T,e[98]=$,e[99]=H,e[100]=G):G=e[100];let J;e[101]!==b||e[102]!==G?(J=s.jsxs(ge,{children:[b,G]}),e[101]=b,e[102]=G,e[103]=J):J=e[103];let V;return e[104]!==n||e[105]!==X||e[106]!==J||e[107]!==d?(V=s.jsxs(be,{open:X,onOpenChange:n,children:[d,J]}),e[104]=n,e[105]=X,e[106]=J,e[107]=d,e[108]=V):V=e[108],V}export{_e as default};
