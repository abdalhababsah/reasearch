import{c as Et,r,j as s}from"./app-XseEcuwc.js";import{c as Vt,u as Ct}from"./index-CR-rnG23.js";import{B as Pt}from"./badge-BtTJmYx1.js";import{B as rt}from"./button-DI4PaxQ7.js";import{T as zt}from"./textarea-UpJGMb4k.js";import{T as xt}from"./trash-2-amZuM-2x.js";import{M as Rt}from"./message-circle-BAohgtxe.js";import{A as Tt}from"./arrow-right-BbVJRUYS.js";import{P as $t,a as Lt}from"./play-BTOxsHwB.js";import{S as At}from"./save-DfZnMHqC.js";import{D as Bt}from"./download-CEZ7BJdo.js";/* empty css            *//**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ot=Vt("Zap",Ut);function Wt(e="seg"){return typeof crypto<"u"&&"randomUUID"in crypto?`${e}-${crypto.randomUUID()}`:`${e}-${Date.now()}-${Math.random().toString(16).slice(2)}`}const u=120,os=()=>{const e=Et.c(189),{t}=Ct();let h;e[0]!==t?(h=t("audioDemo.labels.speaker1",{defaultValue:"Speaker 1"}),e[0]=t,e[1]=h):h=e[1];let j;e[2]!==t?(j=t("audioDemo.labels.speaker1Desc",{defaultValue:"Main Speaker"}),e[2]=t,e[3]=j):j=e[3];let N;e[4]!==h||e[5]!==j?(N={id:1,name:h,color:"#3b82f6",description:j},e[4]=h,e[5]=j,e[6]=N):N=e[6];let S;e[7]!==t?(S=t("audioDemo.labels.speaker2",{defaultValue:"Speaker 2"}),e[7]=t,e[8]=S):S=e[8];let D;e[9]!==t?(D=t("audioDemo.labels.speaker2Desc",{defaultValue:"Interviewer"}),e[9]=t,e[10]=D):D=e[10];let _;e[11]!==S||e[12]!==D?(_={id:2,name:S,color:"#10b981",description:D},e[11]=S,e[12]=D,e[13]=_):_=e[13];let M;e[14]!==t?(M=t("audioDemo.labels.noise",{defaultValue:"Noise"}),e[14]=t,e[15]=M):M=e[15];let k;e[16]!==t?(k=t("audioDemo.labels.noiseDesc",{defaultValue:"Background Noise"}),e[16]=t,e[17]=k):k=e[17];let I;e[18]!==M||e[19]!==k?(I={id:3,name:M,color:"#ef4444",description:k},e[18]=M,e[19]=k,e[20]=I):I=e[20];let je;e[21]!==N||e[22]!==_||e[23]!==I?(je=[N,_,I],e[21]=N,e[22]=_,e[23]=I,e[24]=je):je=e[24];const ct=je,y=r.useRef(null),[c,Ne]=r.useState(!1),[Se,Ke]=r.useState(0),[d,ht]=r.useState(800),[w]=r.useState(ct),[m,bt]=r.useState(ct[0]);let E;e[25]!==t?(E=t("audioDemo.segmentNotes.speaker1",{defaultValue:"Example: Speaker 1 segment"}),e[25]=t,e[26]=E):E=e[26];let V;e[27]!==E?(V={clientId:"demo-1",label_id:1,start_time:5,end_time:20,notes:E},e[27]=E,e[28]=V):V=e[28];let C;e[29]!==t?(C=t("audioDemo.segmentNotes.speaker2",{defaultValue:"Example: Speaker 2 segment"}),e[29]=t,e[30]=C):C=e[30];let P;e[31]!==C?(P={clientId:"demo-2",label_id:2,start_time:30,end_time:45,notes:C},e[31]=C,e[32]=P):P=e[32];let z;e[33]!==t?(z=t("audioDemo.segmentNotes.noise",{defaultValue:"Example: background noise"}),e[33]=t,e[34]=z):z=e[34];let R;e[35]!==z?(R={clientId:"demo-3",label_id:3,start_time:60,end_time:75,notes:z},e[35]=z,e[36]=R):R=e[36];let De;e[37]!==V||e[38]!==P||e[39]!==R?(De=[V,P,R],e[37]=V,e[38]=P,e[39]=R,e[40]=De):De=e[40];const[b,_e]=r.useState(De),[x,dt]=r.useState(!1),[g,gt]=r.useState(0),[v,mt]=r.useState(0),[f,ut]=r.useState(null),Me=r.useRef(null),ke=Xt;let Ie;e[41]===Symbol.for("react.memo_cache_sentinel")?(Ie=()=>{y.current&&ht(y.current.clientWidth)},e[41]=Ie):Ie=e[41];const Qe=Ie;let Ee;e[42]!==d?(Ee=l=>!d||!u?0:Math.max(0,Math.min(l/d,1))*u,e[42]=d,e[43]=Ee):Ee=e[43];const p=Ee;let Ve;e[44]!==d?(Ve=l=>{if(!d)return{left:0,width:0,visible:!1};const o=l.start_time/u,a=l.end_time/u,i=o*d,n=Math.max(2,(a-o)*d);return{left:i,width:n,visible:n>0}},e[44]=d,e[45]=Ve):Ve=e[45];const vt=Ve;let Ce,Pe;e[46]!==c?(Ce=()=>{if(!c)return;const l=window.setInterval(()=>{Ke(o=>{let a=o+.05;const i=Me.current??u;return a>=i&&(a=i,Me.current=null,Ne(!1)),a})},50);return()=>{window.clearInterval(l)}},Pe=[c,u],e[46]=c,e[47]=Ce,e[48]=Pe):(Ce=e[47],Pe=e[48]),r.useEffect(Ce,Pe);let ze,Re;e[49]===Symbol.for("react.memo_cache_sentinel")?(ze=()=>(Qe(),window.addEventListener("resize",Qe),()=>window.removeEventListener("resize",Qe)),Re=[],e[49]=ze,e[50]=Re):(ze=e[49],Re=e[50]),r.useEffect(ze,Re);let Te;e[51]!==Se||e[52]!==c?(Te=()=>{c?Ne(!1):(Se>=u&&Ke(0),Me.current=null,Ne(!0))},e[51]=Se,e[52]=c,e[53]=Te):Te=e[53];const Ye=Te,yt=l=>{Me.current=l.end_time,Ke(l.start_time),Ne(!0)};let $e;e[54]!==m?($e=(l,o)=>{if(!m)return;const a={clientId:Wt("seg"),label_id:m.id,start_time:Math.min(l,o),end_time:Math.max(l,o),notes:null};_e(i=>[...i,a].sort(Jt))},e[54]=m,e[55]=$e):$e=e[55];const et=$e;let Le;e[56]===Symbol.for("react.memo_cache_sentinel")?(Le=l=>{_e(o=>o.filter(a=>a.clientId!==l))},e[56]=Le):Le=e[56];const Ae=Le;let Be;e[57]===Symbol.for("react.memo_cache_sentinel")?(Be=(l,o)=>{_e(a=>a.map(i=>i.clientId===l?{...i,notes:o}:i))},e[57]=Be):Be=e[57];const tt=Be;let Ue;e[58]===Symbol.for("react.memo_cache_sentinel")?(Ue=(l,o,a)=>{a.preventDefault(),a.stopPropagation(),ut({clientId:l.clientId,mode:o})},e[58]=Ue):Ue=e[58];const ft=Ue;let Oe;e[59]!==p||e[60]!==f?(Oe=()=>{if(!f)return;const l=a=>{const i=y.current;if(!i||!u)return;const n=i.getBoundingClientRect(),kt=a.clientX-n.left,pt=p(kt);_e(It=>It.map(we=>{if(we.clientId!==f.clientId)return we;if(f.mode==="start"){const nt=Math.max(0,Math.min(pt,we.end_time-.1));return{...we,start_time:nt}}else{const nt=Math.max(we.start_time+.1,Math.min(pt,u));return{...we,end_time:nt}}}))},o=()=>{ut(null)};return document.addEventListener("mousemove",l),document.addEventListener("mouseup",o),()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",o)}},e[59]=p,e[60]=f,e[61]=Oe):Oe=e[61];let We;e[62]!==d||e[63]!==p||e[64]!==f?(We=[f,u,d,p],e[62]=d,e[63]=p,e[64]=f,e[65]=We):We=e[65],r.useEffect(Oe,We);let Xe;e[66]!==f||e[67]!==m?(Xe=l=>{if(!m||f)return;const o=y.current;if(!o)return;const a=o.getBoundingClientRect(),i=l.clientX-a.left;dt(!0),gt(i),mt(i)},e[66]=f,e[67]=m,e[68]=Xe):Xe=e[68];const st=Xe;let Je;e[69]!==x?(Je=l=>{if(!x)return;const o=y.current;if(!o)return;const a=o.getBoundingClientRect(),i=l.clientX-a.left;mt(i)},e[69]=x,e[70]=Je):Je=e[70];const lt=Je;let Ze;e[71]!==et||e[72]!==p||e[73]!==x||e[74]!==v||e[75]!==g?(Ze=()=>{if(!x||(dt(!1),!y.current||!u))return;const o=Math.min(g,v),a=Math.max(g,v);if(Math.abs(a-o)<3)return;const i=p(o),n=p(a);Math.abs(n-i)>.1&&et(i,n)},e[71]=et,e[72]=p,e[73]=x,e[74]=v,e[75]=g,e[76]=Ze):Ze=e[76];const ot=Ze,wt="mx-auto max-w-6xl overflow-hidden rounded-xl border bg-background shadow-2xl";let qe;e[77]===Symbol.for("react.memo_cache_sentinel")?(qe=s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:s.jsx(Ot,{className:"h-5 w-5"})}),e[77]=qe):qe=e[77];let T;e[78]!==t?(T=t("audioDemo.title",{defaultValue:"Labeling Studio Demo"}),e[78]=t,e[79]=T):T=e[79];let $;e[80]!==T?($=s.jsx("h3",{className:"font-bold text-lg",children:T}),e[80]=T,e[81]=$):$=e[81];let L;e[82]!==t?(L=t("audioDemo.subtitle",{defaultValue:"Try creating and resizing segments on the waveform (no real audio)."}),e[82]=t,e[83]=L):L=e[83];let A;e[84]!==L?(A=s.jsx("p",{className:"text-xs text-muted-foreground",children:L}),e[84]=L,e[85]=A):A=e[85];let B;e[86]!==$||e[87]!==A?(B=s.jsxs("div",{className:"flex items-center gap-3",children:[qe,s.jsxs("div",{children:[$,A]})]}),e[86]=$,e[87]=A,e[88]=B):B=e[88];let U;e[89]!==t?(U=t("audioDemo.badge",{defaultValue:"Interactive Demo"}),e[89]=t,e[90]=U):U=e[90];let O;e[91]!==U?(O=s.jsx(Pt,{variant:"outline",className:"text-xs",children:U}),e[91]=U,e[92]=O):O=e[92];let W;e[93]!==B||e[94]!==O?(W=s.jsxs("div",{className:"bg-muted/30 border-b p-4 flex items-center justify-between",children:[B,O]}),e[93]=B,e[94]=O,e[95]=W):W=e[95];const jt="grid gap-6 p-6 lg:grid-cols-3",Nt="lg:col-span-2 space-y-6";let X;e[96]!==t?(X=t("audioDemo.selectLabel",{defaultValue:"Select Label"}),e[96]=t,e[97]=X):X=e[97];let J;e[98]!==X?(J=s.jsx("div",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider text-xs",children:X}),e[98]=X,e[99]=J):J=e[99];let Z;if(e[100]!==w||e[101]!==m?.id){let l;e[103]!==m?.id?(l=o=>s.jsx("button",{onClick:()=>bt(o),className:`rounded-full px-4 py-2 text-sm font-medium transition-all ${m?.id===o.id?"ring-2 ring-offset-2 scale-105 shadow-md":"opacity-70 hover:opacity-100 hover:bg-muted"}`,style:{backgroundColor:o.color+"20",border:`2px solid ${o.color}`,color:o.color},type:"button",title:o.description||void 0,children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-2 w-2 rounded-full",style:{backgroundColor:o.color}}),o.name]})},o.id),e[103]=m?.id,e[104]=l):l=e[104],Z=w.map(l),e[100]=w,e[101]=m?.id,e[102]=Z}else Z=e[102];let q;e[105]!==Z?(q=s.jsx("div",{className:"flex flex-wrap gap-2",children:Z}),e[105]=Z,e[106]=q):q=e[106];let F;e[107]!==J||e[108]!==q?(F=s.jsxs("div",{className:"space-y-3",children:[J,q]}),e[107]=J,e[108]=q,e[109]=F):F=e[109];const St="rounded-xl border bg-card p-1 shadow-sm overflow-hidden";let G;e[110]!==c?(G=c?s.jsx($t,{className:"h-3 w-3"}):s.jsx(Lt,{className:"h-3 w-3"}),e[110]=c,e[111]=G):G=e[111];let H;e[112]!==c||e[113]!==t?(H=c?t("audioDemo.pause",{defaultValue:"Pause"}):t("audioDemo.play",{defaultValue:"Play"}),e[112]=c,e[113]=t,e[114]=H):H=e[114];let K;e[115]!==Ye||e[116]!==G||e[117]!==H?(K=s.jsxs(rt,{variant:"outline",size:"sm",onClick:Ye,className:"flex items-center gap-2 h-8",type:"button",children:[G,H]}),e[115]=Ye,e[116]=G,e[117]=H,e[118]=K):K=e[118];const at=ke(Se);let Q;e[119]!==at?(Q=s.jsxs("div",{className:"font-mono text-xs font-medium text-muted-foreground",children:[at," / ",ke(u)]}),e[119]=at,e[120]=Q):Q=e[120];let Y;e[121]!==K||e[122]!==Q?(Y=s.jsxs("div",{className:"border-b bg-muted/20 p-3 flex items-center justify-between",children:[K,Q]}),e[121]=K,e[122]=Q,e[123]=Y):Y=e[123];const Dt="relative p-4 bg-white dark:bg-zinc-950",_t="w-full relative cursor-text select-none bg-gray-100 rounded-lg overflow-hidden";let ee;e[124]===Symbol.for("react.memo_cache_sentinel")?(ee={height:120},e[124]=ee):ee=e[124];let te;e[125]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200"}),e[125]=te):te=e[125];const Mt="absolute inset-0 pointer-events-none z-10",it=b.map(l=>{const o=vt(l);if(!o.visible)return null;const a=w.find(n=>n.id===l.label_id),i=a?.color||"#3b82f6";return s.jsxs("div",{className:"absolute rounded group pointer-events-auto cursor-pointer hover:shadow-lg transition-all",style:{left:`${o.left}px`,width:`${o.width}px`,top:"10px",height:"100px",backgroundColor:i+"30",border:`2px solid ${i}`,borderRadius:"6px"},onClick:n=>{n.stopPropagation(),yt(l)},children:[s.jsx("div",{className:"absolute left-0 top-0 w-3 h-full opacity-0 group-hover:opacity-100 cursor-ew-resize flex items-center justify-center z-20 hover:bg-black/10",onMouseDown:n=>ft(l,"start",n),children:s.jsx("div",{className:"w-0.5 h-6 bg-white/80 rounded shadow-sm"})}),s.jsx("div",{className:"absolute right-0 top-0 w-3 h-full opacity-0 group-hover:opacity-100 cursor-ew-resize flex items-center justify-center z-20 hover:bg-black/10",onMouseDown:n=>ft(l,"end",n),children:s.jsx("div",{className:"w-0.5 h-6 bg-white/80 rounded shadow-sm"})}),s.jsx("div",{className:"absolute top-1 left-1 max-w-full px-1.5 py-0.5 text-[10px] font-bold text-white bg-black/60 rounded truncate pointer-events-none",children:a?.name}),s.jsx("button",{className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 shadow-md flex items-center justify-center hover:bg-red-600 transition-all z-30",onClick:n=>{n.stopPropagation(),Ae(l.clientId)},type:"button",children:s.jsx(xt,{className:"h-2.5 w-2.5"})})]},l.clientId)});let se;e[126]!==x||e[127]!==v||e[128]!==g?(se=x&&s.jsx("div",{className:"absolute bg-primary/20 border-2 border-primary pointer-events-none rounded z-20",style:{left:`${Math.min(g,v)}px`,width:`${Math.abs(v-g)}px`,top:"10px",height:"100px"}}),e[126]=x,e[127]=v,e[128]=g,e[129]=se):se=e[129];let le;e[130]!==it||e[131]!==se?(le=s.jsxs("div",{className:Mt,children:[it,se]}),e[130]=it,e[131]=se,e[132]=le):le=e[132];let oe;e[133]!==st||e[134]!==lt||e[135]!==ot||e[136]!==ee||e[137]!==te||e[138]!==le?(oe=s.jsxs("div",{ref:y,className:_t,style:ee,onMouseDown:st,onMouseMove:lt,onMouseUp:ot,children:[te,le]}),e[133]=st,e[134]=lt,e[135]=ot,e[136]=ee,e[137]=te,e[138]=le,e[139]=oe):oe=e[139];let ae;e[140]!==t?(ae=t("audioDemo.tip",{defaultValue:"Tip: Select a label above, then click and drag on the waveform to create a segment."}),e[140]=t,e[141]=ae):ae=e[141];let ie;e[142]!==ae?(ie=s.jsx("p",{className:"text-[10px] text-muted-foreground mt-2 text-center",children:ae}),e[142]=ae,e[143]=ie):ie=e[143];let ne;e[144]!==oe||e[145]!==ie?(ne=s.jsxs("div",{className:Dt,children:[oe,ie]}),e[144]=oe,e[145]=ie,e[146]=ne):ne=e[146];let re;e[147]!==Y||e[148]!==ne?(re=s.jsxs("div",{className:St,children:[Y,ne]}),e[147]=Y,e[148]=ne,e[149]=re):re=e[149];let ce;e[150]!==F||e[151]!==re?(ce=s.jsxs("div",{className:Nt,children:[F,re]}),e[150]=F,e[151]=re,e[152]=ce):ce=e[152];let de;e[153]!==t?(de=t("audioDemo.segmentsTitle",{defaultValue:"Segments"}),e[153]=t,e[154]=de):de=e[154];let me;e[155]!==b.length||e[156]!==de?(me=s.jsx("div",{className:"bg-muted/20 p-3 border-b",children:s.jsxs("h4",{className:"font-semibold text-sm",children:[de," ","(",b.length,")"]})}),e[155]=b.length,e[156]=de,e[157]=me):me=e[157];let ue;e[158]!==w||e[159]!==Ae||e[160]!==b||e[161]!==t||e[162]!==tt?(ue=b.length===0?s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-muted-foreground p-4 text-center",children:[s.jsx(Rt,{className:"h-8 w-8 mb-2 opacity-20"}),s.jsx("p",{className:"text-xs",children:t("audioDemo.noSegments",{defaultValue:"No segments created yet."})})]}):b.map(l=>{const o=w.find(a=>a.id===l.label_id);return s.jsxs("div",{className:"group rounded-lg border bg-background p-2.5 text-left text-sm hover:border-primary/50 transition-all shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-2.5 w-2.5 rounded-full shadow-sm",style:{backgroundColor:o?.color}}),s.jsx("span",{className:"font-semibold text-xs",children:o?.name})]}),s.jsx("button",{onClick:()=>Ae(l.clientId),className:"text-muted-foreground hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",type:"button",children:s.jsx(xt,{className:"h-3.5 w-3.5"})})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-2 font-mono bg-muted/30 p-1 rounded",children:[s.jsx("span",{children:ke(l.start_time)}),s.jsx(Tt,{className:"h-3 w-3 opacity-30"}),s.jsx("span",{children:ke(l.end_time)})]}),s.jsx(zt,{placeholder:t("audioDemo.notesPlaceholder",{defaultValue:"Add notes..."}),value:l.notes||"",onChange:a=>tt(l.clientId,a.target.value),className:"min-h-[50px] text-xs resize-none bg-transparent"})]},l.clientId)}),e[158]=w,e[159]=Ae,e[160]=b,e[161]=t,e[162]=tt,e[163]=ue):ue=e[163];let fe;e[164]!==ue?(fe=s.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:ue}),e[164]=ue,e[165]=fe):fe=e[165];let pe;e[166]!==me||e[167]!==fe?(pe=s.jsxs("div",{className:"flex flex-col h-[400px] lg:h-auto rounded-xl border bg-card shadow-sm overflow-hidden",children:[me,fe]}),e[166]=me,e[167]=fe,e[168]=pe):pe=e[168];let xe;e[169]!==ce||e[170]!==pe?(xe=s.jsxs("div",{className:jt,children:[ce,pe]}),e[169]=ce,e[170]=pe,e[171]=xe):xe=e[171];let Fe;e[172]===Symbol.for("react.memo_cache_sentinel")?(Fe=s.jsx(At,{className:"h-4 w-4 mr-2"}),e[172]=Fe):Fe=e[172];let he;e[173]!==t?(he=t("audioDemo.saveDraft",{defaultValue:"Save Draft"}),e[173]=t,e[174]=he):he=e[174];let be;e[175]!==he?(be=s.jsxs(rt,{variant:"outline",disabled:!0,className:"opacity-50 cursor-not-allowed",type:"button",children:[Fe,he]}),e[175]=he,e[176]=be):be=e[176];let Ge;e[177]===Symbol.for("react.memo_cache_sentinel")?(Ge=s.jsx(Bt,{className:"h-4 w-4 mr-2"}),e[177]=Ge):Ge=e[177];let ge;e[178]!==t?(ge=t("audioDemo.exportJson",{defaultValue:"Export JSON"}),e[178]=t,e[179]=ge):ge=e[179];let ve;e[180]!==ge?(ve=s.jsxs(rt,{disabled:!0,className:"opacity-50 cursor-not-allowed",type:"button",children:[Ge,ge]}),e[180]=ge,e[181]=ve):ve=e[181];let ye;e[182]!==be||e[183]!==ve?(ye=s.jsxs("div",{className:"bg-muted/30 border-t p-4 flex justify-end gap-2",children:[be,ve]}),e[182]=be,e[183]=ve,e[184]=ye):ye=e[184];let He;return e[185]!==W||e[186]!==xe||e[187]!==ye?(He=s.jsxs("div",{className:wt,children:[W,xe,ye]}),e[185]=W,e[186]=xe,e[187]=ye,e[188]=He):He=e[188],He};function Xt(e){if(!e||Number.isNaN(e))return"0:00";const t=Math.floor(e/60),h=Math.floor(e%60);return`${t}:${h.toString().padStart(2,"0")}`}function Jt(e,t){return e.start_time-t.start_time}export{os as default};
