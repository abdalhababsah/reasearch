import{c as Ce,r as ve,j as s,a as _e,H as Le,L as ge}from"./app-XseEcuwc.js";import{P as Be}from"./pagination-CkMXsUwF.js";import{B as ke}from"./badge-BtTJmYx1.js";import{B as ie}from"./button-DI4PaxQ7.js";import{I as Pe}from"./input-MwdOiVtB.js";import{A as Ae}from"./app-layout-CZoO53OF.js";import{u as De}from"./index-CR-rnG23.js";/* empty css            */import"./x-DgzPl7e4.js";import"./index-BHKBQx4H.js";import"./index-C3Hm02L2.js";import"./index-DRE42a0L.js";import"./index-BDsVhmEQ.js";import"./index-DPjtb1Rz.js";import"./select-Bhj_cBoa.js";import"./index-BitGjllA.js";import"./app-logo-icon-3mANveO6.js";import"./index-BZB35nAZ.js";import"./index-CMWG4mbA.js";import"./app-logo-BdIHiqic.js";import"./chevron-right-BMEIDfYh.js";function st(n){const e=Ce.c(139),{researches:i,filters:d,statuses:a}=n,{t,direction:o,locale:be}=De(),[f,Ne]=ve.useState(d.search??""),[m,we]=ve.useState(d.status??""),[u,Se]=ve.useState(d.visibility??"");let ae;if(e[0]!==a||e[1]!==t){let l;e[3]!==t?(l=r=>{const xe=`researches.statuses.${r.value}`,pe=t(xe);return{value:r.value,label:pe===xe?r.label:pe}},e[3]=t,e[4]=l):l=e[4],ae=a.map(l),e[0]=a,e[1]=t,e[2]=ae}else ae=e[2];const c=ae;let ce;e[5]!==f||e[6]!==m||e[7]!==u?(ce=l=>{l?.preventDefault(),_e.get("/researcher/researches",{search:f,status:m,visibility:u},{preserveState:!0,replace:!0})},e[5]=f,e[6]=m,e[7]=u,e[8]=ce):ce=e[8];const je=ce;let ne;e[9]===Symbol.for("react.memo_cache_sentinel")?(ne=()=>{Ne(""),we(""),Se(""),_e.get("/researcher/researches",{},{replace:!0})},e[9]=ne):ne=e[9];const $e=ne;let de;e[10]!==be?(de=l=>{if(!l)return"";try{return new Intl.DateTimeFormat(be,{year:"numeric",month:"short",day:"numeric"}).format(new Date(l))}catch{return l}},e[10]=be,e[11]=de):de=e[11];const h=de;let oe;e[12]!==t?(oe=l=>t(l?"researches.visibility.public":"researches.visibility.private"),e[12]=t,e[13]=oe):oe=e[13];const re=oe;let x;e[14]!==t?(x=t("researches.title"),e[14]=t,e[15]=x):x=e[15];let p;e[16]!==x?(p=[{title:x,href:"/researcher/researches"}],e[16]=x,e[17]=p):p=e[17];let b;e[18]!==t?(b=t("researches.title"),e[18]=t,e[19]=b):b=e[19];let j;e[20]!==b?(j=s.jsx(Le,{title:b}),e[20]=b,e[21]=j):j=e[21];let v;e[22]!==t?(v=t("researches.title"),e[22]=t,e[23]=v):v=e[23];let g;e[24]!==v?(g=s.jsx("h1",{className:"text-2xl font-semibold",children:v}),e[24]=v,e[25]=g):g=e[25];let y;e[26]!==t?(y=t("researches.description"),e[26]=t,e[27]=y):y=e[27];let N;e[28]!==y?(N=s.jsx("p",{className:"text-muted-foreground",children:y}),e[28]=y,e[29]=N):N=e[29];let w;e[30]!==g||e[31]!==N?(w=s.jsxs("div",{children:[g,N]}),e[30]=g,e[31]=N,e[32]=w):w=e[32];let S;e[33]!==t?(S=t("researches.createButton"),e[33]=t,e[34]=S):S=e[34];let _;e[35]!==S?(_=s.jsx(ie,{asChild:!0,children:s.jsx(ge,{href:"/researcher/researches/create",children:S})}),e[35]=S,e[36]=_):_=e[36];let k;e[37]!==w||e[38]!==_?(k=s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[w,_]}),e[37]=w,e[38]=_,e[39]=k):k=e[39];let C;e[40]!==t?(C=t("researches.filters.search"),e[40]=t,e[41]=C):C=e[41];let fe;e[42]===Symbol.for("react.memo_cache_sentinel")?(fe=l=>Ne(l.target.value),e[42]=fe):fe=e[42];let $;e[43]!==t?($=t("researches.filters.searchPlaceholder"),e[43]=t,e[44]=$):$=e[44];let L;e[45]!==f||e[46]!==$?(L=s.jsx(Pe,{value:f,onChange:fe,placeholder:$}),e[45]=f,e[46]=$,e[47]=L):L=e[47];let B;e[48]!==C||e[49]!==L?(B=s.jsx("div",{className:"md:col-span-2",children:s.jsx(ye,{label:C,children:L})}),e[48]=C,e[49]=L,e[50]=B):B=e[50];let P;e[51]!==t?(P=t("researches.filters.status"),e[51]=t,e[52]=P):P=e[52];let me;e[53]===Symbol.for("react.memo_cache_sentinel")?(me=l=>we(l.target.value),e[53]=me):me=e[53];let A;e[54]!==t?(A=t("researches.filters.statusAll"),e[54]=t,e[55]=A):A=e[55];let D;e[56]!==A?(D=s.jsx("option",{value:"",children:A}),e[56]=A,e[57]=D):D=e[57];let F;e[58]!==c?(F=c.map(Fe),e[58]=c,e[59]=F):F=e[59];let I;e[60]!==m||e[61]!==D||e[62]!==F?(I=s.jsxs("select",{className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none",value:m,onChange:me,children:[D,F]}),e[60]=m,e[61]=D,e[62]=F,e[63]=I):I=e[63];let R;e[64]!==P||e[65]!==I?(R=s.jsx("div",{children:s.jsx(ye,{label:P,children:I})}),e[64]=P,e[65]=I,e[66]=R):R=e[66];let z;e[67]!==t?(z=t("researches.filters.visibility"),e[67]=t,e[68]=z):z=e[68];let ue;e[69]===Symbol.for("react.memo_cache_sentinel")?(ue=l=>Se(l.target.value),e[69]=ue):ue=e[69];let E;e[70]!==t?(E=t("researches.filters.visibilityAll"),e[70]=t,e[71]=E):E=e[71];let H;e[72]!==E?(H=s.jsx("option",{value:"",children:E}),e[72]=E,e[73]=H):H=e[73];let T;e[74]!==t?(T=t("researches.filters.visibilityPublic"),e[74]=t,e[75]=T):T=e[75];let V;e[76]!==T?(V=s.jsx("option",{value:"public",children:T}),e[76]=T,e[77]=V):V=e[77];let q;e[78]!==t?(q=t("researches.filters.visibilityPrivate"),e[78]=t,e[79]=q):q=e[79];let G;e[80]!==q?(G=s.jsx("option",{value:"private",children:q}),e[80]=q,e[81]=G):G=e[81];let J;e[82]!==H||e[83]!==V||e[84]!==G||e[85]!==u?(J=s.jsxs("select",{className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none",value:u,onChange:ue,children:[H,V,G]}),e[82]=H,e[83]=V,e[84]=G,e[85]=u,e[86]=J):J=e[86];let K;e[87]!==z||e[88]!==J?(K=s.jsx("div",{children:s.jsx(ye,{label:z,children:J})}),e[87]=z,e[88]=J,e[89]=K):K=e[89];let M;e[90]!==t?(M=t("researches.filters.reset"),e[90]=t,e[91]=M):M=e[91];let Q;e[92]!==M?(Q=s.jsx(ie,{variant:"outline",type:"button",onClick:$e,children:M}),e[92]=M,e[93]=Q):Q=e[93];let U;e[94]!==t?(U=t("researches.filters.apply"),e[94]=t,e[95]=U):U=e[95];let W;e[96]!==U?(W=s.jsx(ie,{type:"submit",children:U}),e[96]=U,e[97]=W):W=e[97];let X;e[98]!==Q||e[99]!==W?(X=s.jsxs("div",{className:"md:col-span-4 flex flex-wrap items-center justify-end gap-3",children:[Q,W]}),e[98]=Q,e[99]=W,e[100]=X):X=e[100];let Y;e[101]!==je||e[102]!==B||e[103]!==R||e[104]!==K||e[105]!==X?(Y=s.jsxs("form",{className:"grid gap-4 rounded-xl border bg-card p-4 shadow-sm md:grid-cols-4",onSubmit:je,children:[B,R,K,X]}),e[101]=je,e[102]=B,e[103]=R,e[104]=K,e[105]=X,e[106]=Y):Y=e[106];let Z;e[107]!==i.data.length||e[108]!==t?(Z=i.data.length===0&&s.jsx("div",{className:"col-span-full rounded-xl border border-dashed bg-muted/30 p-8 text-center text-muted-foreground",children:t("researches.emptyState")}),e[107]=i.data.length,e[108]=t,e[109]=Z):Z=e[109];let O;if(e[110]!==o||e[111]!==h||e[112]!==c||e[113]!==i.data||e[114]!==t||e[115]!==re){let l;e[117]!==o||e[118]!==h||e[119]!==c||e[120]!==t||e[121]!==re?(l=r=>{const xe=c.find(pe=>pe.value===r.status)?.label??r.status;return s.jsxs("div",{className:"flex h-full flex-col rounded-xl border bg-card p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:r.title||t("researches.card.untitled")}),s.jsx("p",{className:"text-xs text-muted-foreground",children:r.created_at?t("researches.card.created",{date:h(r.created_at)}):null})]}),s.jsx(ke,{variant:"outline",children:xe})]}),s.jsx("p",{className:"mt-4 line-clamp-3 text-sm text-muted-foreground",children:r.excerpt?.length?r.excerpt:t("researches.card.noSummary")}),s.jsx("div",{className:"mt-4 flex flex-wrap gap-2 text-xs",children:s.jsx(ke,{variant:"secondary",children:re(r.is_public)})}),s.jsxs("div",{className:`mt-6 flex flex-wrap items-center gap-3 ${o==="rtl"?"flex-row-reverse":""}`,children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:r.created_at?h(r.created_at):""}),s.jsxs("div",{className:`ml-auto flex gap-2 ${o==="rtl"?"mr-auto ml-0":""}`,children:[s.jsx(ie,{asChild:!0,variant:"ghost",size:"sm",children:s.jsx(ge,{href:`/researcher/researches/${r.id}`,children:t("actions.view")})}),s.jsx(ie,{asChild:!0,size:"sm",variant:"outline",children:s.jsx(ge,{href:`/researcher/researches/${r.id}/edit`,children:t("actions.edit")})})]})]})]},r.id)},e[117]=o,e[118]=h,e[119]=c,e[120]=t,e[121]=re,e[122]=l):l=e[122],O=i.data.map(l),e[110]=o,e[111]=h,e[112]=c,e[113]=i.data,e[114]=t,e[115]=re,e[116]=O}else O=e[116];let ee;e[123]!==Z||e[124]!==O?(ee=s.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 xl:grid-cols-3",children:[Z,O]}),e[123]=Z,e[124]=O,e[125]=ee):ee=e[125];let te;e[126]!==i.links?(te=i.links??[],e[126]=i.links,e[127]=te):te=e[127];let se;e[128]!==te?(se=s.jsx(Be,{links:te}),e[128]=te,e[129]=se):se=e[129];let le;e[130]!==k||e[131]!==Y||e[132]!==ee||e[133]!==se?(le=s.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-4",children:[k,Y,ee,se]}),e[130]=k,e[131]=Y,e[132]=ee,e[133]=se,e[134]=le):le=e[134];let he;return e[135]!==le||e[136]!==p||e[137]!==j?(he=s.jsxs(Ae,{breadcrumbs:p,children:[j,le]}),e[135]=le,e[136]=p,e[137]=j,e[138]=he):he=e[138],he}function Fe(n){return s.jsx("option",{value:n.value,children:n.label},n.value)}function ye(n){const e=Ce.c(5),{label:i,children:d}=n;let a;e[0]!==i?(a=s.jsx("span",{children:i}),e[0]=i,e[1]=a):a=e[1];let t;return e[2]!==d||e[3]!==a?(t=s.jsxs("label",{className:"flex w-full flex-col gap-2 text-sm font-medium text-foreground",children:[a,d]}),e[2]=d,e[3]=a,e[4]=t):t=e[4],t}export{st as default};
