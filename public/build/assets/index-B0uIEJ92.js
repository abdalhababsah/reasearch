import{c as Me,r as E,j as t,F as We,a as Xe,H as Ye,L as Ze}from"./app-XseEcuwc.js";import{P as et}from"./pagination-CkMXsUwF.js";import{B as O}from"./button-DI4PaxQ7.js";import{D as tt,a as qe,b as He,c as Pe,d as Re,e as Ge}from"./dialog-DBndcIzu.js";import{I as Ce}from"./input-error-Dx3_jmKc.js";import{I as Je}from"./input-MwdOiVtB.js";import{L as we}from"./label-DepknyqC.js";import{T as st}from"./textarea-UpJGMb4k.js";import{u as Qe}from"./index-CR-rnG23.js";import{A as lt}from"./app-layout-CZoO53OF.js";/* empty css            */import"./index-BHKBQx4H.js";import"./index-C3Hm02L2.js";import"./index-DRE42a0L.js";import"./index-BDsVhmEQ.js";import"./index-DPjtb1Rz.js";import"./x-DgzPl7e4.js";import"./select-Bhj_cBoa.js";import"./index-BitGjllA.js";import"./app-logo-icon-3mANveO6.js";import"./index-BZB35nAZ.js";import"./index-CMWG4mbA.js";import"./app-logo-BdIHiqic.js";import"./chevron-right-BMEIDfYh.js";function Ke(y){const e=Me.c(26),{action:o,method:x,parentOptions:k,defaultValues:l,submitLabel:i,onSuccess:F}=y,[S,L]=E.useState(l?.name_en??""),[s,b]=E.useState(l?.name_ar??""),[r,v]=E.useState(l?.slug??""),[C,De]=E.useState(!1),{t:a}=Qe();let w;e[0]!==l?.name_ar||e[1]!==l?.name_en||e[2]!==l?.slug?(w=()=>{L(l?.name_en??""),b(l?.name_ar??""),v(l?.slug??""),De(!1)},e[0]=l?.name_ar,e[1]=l?.name_en,e[2]=l?.slug,e[3]=w):w=e[3];let g;e[4]!==l?(g=[l],e[4]=l,e[5]=g):g=e[5],E.useEffect(w,g);let h;e[6]!==C?(h=m=>{L(m),C||v(at(m))},e[6]=C,e[7]=h):h=e[7];const N=h;let j;e[8]===Symbol.for("react.memo_cache_sentinel")?(j=m=>{De(!0),v(m)},e[8]=j):j=e[8];const D=j;let c;e[9]!==F?(c=()=>{F?.()},e[9]=F,e[10]=c):c=e[10];let d;e[11]!==l?.description||e[12]!==l?.parent_id||e[13]!==N||e[14]!==s||e[15]!==S||e[16]!==k||e[17]!==r||e[18]!==i||e[19]!==a?(d=m=>{const{processing:$,errors:f}=m;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(we,{htmlFor:"name_en",children:a("categories.nameEn")}),t.jsx(Je,{id:"name_en",name:"name_en",required:!0,value:S,onChange:u=>N(u.target.value),placeholder:a("categories.nameEn")}),t.jsx(Ce,{message:f.name_en})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(we,{htmlFor:"name_ar",children:a("categories.nameAr")}),t.jsx(Je,{id:"name_ar",name:"name_ar",required:!0,value:s,onChange:u=>b(u.target.value),placeholder:a("categories.nameAr")}),t.jsx(Ce,{message:f.name_ar})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(we,{htmlFor:"slug",children:a("categories.table.slug")}),t.jsx(Je,{id:"slug",name:"slug",required:!0,value:r,onChange:u=>D(u.target.value),placeholder:a("categories.table.slug")}),t.jsx(Ce,{message:f.slug})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(we,{htmlFor:"parent_id",children:a("categories.table.parent")}),t.jsxs("select",{id:"parent_id",name:"parent_id",defaultValue:l?.parent_id??"",className:"rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none",children:[t.jsx("option",{value:"",children:a("categories.parentNone")}),k.map(it)]}),t.jsx(Ce,{message:f.parent_id})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(we,{htmlFor:"description",children:a("categoryShow.description")}),t.jsx(st,{id:"description",name:"description",rows:5,defaultValue:l?.description??"",placeholder:a("categoryShow.description")}),t.jsx(Ce,{message:f.description})]}),t.jsx(O,{disabled:$,children:i??a("actions.save")})]})},e[11]=l?.description,e[12]=l?.parent_id,e[13]=N,e[14]=s,e[15]=S,e[16]=k,e[17]=r,e[18]=i,e[19]=a,e[20]=d):d=e[20];let _;return e[21]!==o||e[22]!==x||e[23]!==c||e[24]!==d?(_=t.jsx(We,{method:x,action:o,className:"space-y-6",onSuccess:c,children:d}),e[21]=o,e[22]=x,e[23]=c,e[24]=d,e[25]=_):_=e[25],_}function it(y){return t.jsx("option",{value:y.id,children:y.name},y.id)}const at=y=>y.toLowerCase().trim().replace(/[\s_]+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"");function kt(y){const e=Me.c(170),{categories:o,parents:x}=y,[k,l]=E.useState(!1),[i,F]=E.useState(null),[S,L]=E.useState(null),{t:s,direction:b}=Qe(),r=b==="rtl"?"text-right":"text-left",v=b==="rtl"?"text-left":"text-right";let C;e[0]===Symbol.for("react.memo_cache_sentinel")?(C=n=>{Xe.delete(`/admin/categories/${n}`,{onSuccess:()=>L(null)})},e[0]=C):C=e[0];const De=C;let a;e:{if(!i){a=x;break e}let n;if(e[1]!==i||e[2]!==x){let p;e[4]!==i?(p=Ue=>Ue.id!==i.id,e[4]=i,e[5]=p):p=e[5],n=x.filter(p),e[1]=i,e[2]=x,e[3]=n}else n=e[3];a=n}const w=a;let g;e[6]!==s?(g=s("categories.title"),e[6]=s,e[7]=g):g=e[7];let h;e[8]!==g?(h=[{title:g,href:"/admin/categories"}],e[8]=g,e[9]=h):h=e[9];let N;e[10]!==s?(N=s("categories.title"),e[10]=s,e[11]=N):N=e[11];let j;e[12]!==N?(j=t.jsx(Ye,{title:N}),e[12]=N,e[13]=j):j=e[13];let D;e[14]!==s?(D=s("categories.title"),e[14]=s,e[15]=D):D=e[15];let c;e[16]!==D?(c=t.jsx("h1",{className:"text-2xl font-semibold",children:D}),e[16]=D,e[17]=c):c=e[17];let d;e[18]!==s?(d=s("categories.description"),e[18]=s,e[19]=d):d=e[19];let _;e[20]!==d?(_=t.jsx("p",{className:"text-muted-foreground",children:d}),e[20]=d,e[21]=_):_=e[21];let m;e[22]!==_||e[23]!==c?(m=t.jsxs("div",{children:[c,_]}),e[22]=_,e[23]=c,e[24]=m):m=e[24];let $;e[25]!==s?($=s("categories.createTitle"),e[25]=s,e[26]=$):$=e[26];let f;e[27]!==$?(f=t.jsx(tt,{asChild:!0,children:t.jsx(O,{children:$})}),e[27]=$,e[28]=f):f=e[28];let u;e[29]!==s?(u=s("categories.createTitle"),e[29]=s,e[30]=u):u=e[30];let T;e[31]!==u?(T=t.jsx(qe,{children:u}),e[31]=u,e[32]=T):T=e[32];let A;e[33]!==s?(A=s("categories.createDescription"),e[33]=s,e[34]=A):A=e[34];let V;e[35]!==A?(V=t.jsx(He,{children:A}),e[35]=A,e[36]=V):V=e[36];let I;e[37]!==T||e[38]!==V?(I=t.jsxs(Pe,{children:[T,V]}),e[37]=T,e[38]=V,e[39]=I):I=e[39];let $e;e[40]===Symbol.for("react.memo_cache_sentinel")?($e=()=>l(!1),e[40]=$e):$e=e[40];let z;e[41]!==s?(z=s("actions.save"),e[41]=s,e[42]=z):z=e[42];let B;e[43]!==x||e[44]!==z?(B=t.jsx(Ke,{action:"/admin/categories",method:"post",parentOptions:x,onSuccess:$e,submitLabel:z}),e[43]=x,e[44]=z,e[45]=B):B=e[45];let q;e[46]!==I||e[47]!==B?(q=t.jsxs(Re,{children:[I,B]}),e[46]=I,e[47]=B,e[48]=q):q=e[48];let H;e[49]!==k||e[50]!==f||e[51]!==q?(H=t.jsxs(Ge,{open:k,onOpenChange:l,children:[f,q]}),e[49]=k,e[50]=f,e[51]=q,e[52]=H):H=e[52];let P;e[53]!==m||e[54]!==H?(P=t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[m,H]}),e[53]=m,e[54]=H,e[55]=P):P=e[55];let Ee;e[56]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsxs("colgroup",{children:[t.jsx("col",{className:"w-2/6"}),t.jsx("col",{className:"w-2/6"}),t.jsx("col",{className:"w-1/6"}),t.jsx("col",{className:"w-1/6"})]}),e[56]=Ee):Ee=e[56];const Te=`px-4 py-3 ${r} text-sm font-medium text-muted-foreground`;let R;e[57]!==s?(R=s("categories.table.name"),e[57]=s,e[58]=R):R=e[58];let G;e[59]!==Te||e[60]!==R?(G=t.jsx("th",{className:Te,children:R}),e[59]=Te,e[60]=R,e[61]=G):G=e[61];const Ae=`px-4 py-3 ${r} text-sm font-medium text-muted-foreground`;let J;e[62]!==s?(J=s("categories.table.slug"),e[62]=s,e[63]=J):J=e[63];let K;e[64]!==Ae||e[65]!==J?(K=t.jsx("th",{className:Ae,children:J}),e[64]=Ae,e[65]=J,e[66]=K):K=e[66];const Ve=`px-4 py-3 ${r} text-sm font-medium text-muted-foreground`;let M;e[67]!==s?(M=s("categories.table.parent"),e[67]=s,e[68]=M):M=e[68];let Q;e[69]!==Ve||e[70]!==M?(Q=t.jsx("th",{className:Ve,children:M}),e[69]=Ve,e[70]=M,e[71]=Q):Q=e[71];const Ie=`px-4 py-3 ${v} text-sm font-medium text-muted-foreground`;let U;e[72]!==s?(U=s("categories.table.actions"),e[72]=s,e[73]=U):U=e[73];let W;e[74]!==Ie||e[75]!==U?(W=t.jsx("th",{className:Ie,children:U}),e[74]=Ie,e[75]=U,e[76]=W):W=e[76];let X;e[77]!==G||e[78]!==K||e[79]!==Q||e[80]!==W?(X=t.jsx("thead",{className:"bg-muted/40",children:t.jsxs("tr",{children:[G,K,Q,W]})}),e[77]=G,e[78]=K,e[79]=Q,e[80]=W,e[81]=X):X=e[81];let Y;e[82]!==o.data.length||e[83]!==s?(Y=o.data.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-muted-foreground",children:s("categories.noResults")})}),e[82]=o.data.length,e[83]=s,e[84]=Y):Y=e[84];let Z;if(e[85]!==v||e[86]!==r||e[87]!==o.data||e[88]!==b||e[89]!==s){let n;e[91]!==v||e[92]!==r||e[93]!==b||e[94]!==s?(n=p=>t.jsxs("tr",{children:[t.jsx("td",{className:`px-4 py-3 font-medium ${r}`,children:p.name}),t.jsx("td",{className:`px-4 py-3 text-muted-foreground ${r}`,children:p.slug}),t.jsx("td",{className:`px-4 py-3 text-muted-foreground ${r}`,children:p.parent?.name??s("categories.parentNone")}),t.jsx("td",{className:`px-4 py-3 ${v}`,children:t.jsxs("div",{className:`flex flex-wrap gap-2 ${b==="rtl"?"justify-start":"justify-end"}`,children:[t.jsx(O,{asChild:!0,size:"sm",variant:"ghost",children:t.jsx(Ze,{href:`/admin/categories/${p.id}`,children:s("actions.view")})}),t.jsx(O,{size:"sm",variant:"outline",onClick:()=>F(p),children:s("actions.edit")}),t.jsx(O,{size:"sm",variant:"destructive",onClick:()=>L(p),children:s("actions.delete")})]})})]},p.id),e[91]=v,e[92]=r,e[93]=b,e[94]=s,e[95]=n):n=e[95],Z=o.data.map(n),e[85]=v,e[86]=r,e[87]=o.data,e[88]=b,e[89]=s,e[90]=Z}else Z=e[90];let ee;e[96]!==Y||e[97]!==Z?(ee=t.jsxs("tbody",{className:"divide-y divide-border",children:[Y,Z]}),e[96]=Y,e[97]=Z,e[98]=ee):ee=e[98];let te;e[99]!==X||e[100]!==ee?(te=t.jsx("div",{className:"w-full overflow-hidden rounded-xl border bg-card shadow-sm",children:t.jsxs("table",{className:"min-w-full table-auto divide-y divide-border text-sm",children:[Ee,X,ee]})}),e[99]=X,e[100]=ee,e[101]=te):te=e[101];let se;e[102]!==o.links?(se=t.jsx(et,{links:o.links}),e[102]=o.links,e[103]=se):se=e[103];const ze=!!i;let ke;e[104]===Symbol.for("react.memo_cache_sentinel")?(ke=n=>{n||F(null)},e[104]=ke):ke=e[104];let le;e[105]!==i||e[106]!==s?(le=i?s("categories.editDialogTitle",{name:i.name}):s("actions.edit"),e[105]=i,e[106]=s,e[107]=le):le=e[107];let ie;e[108]!==le?(ie=t.jsx(qe,{children:le}),e[108]=le,e[109]=ie):ie=e[109];let ae;e[110]!==s?(ae=s("categories.editDialogDescription"),e[110]=s,e[111]=ae):ae=e[111];let ne;e[112]!==ae?(ne=t.jsx(He,{children:ae}),e[112]=ae,e[113]=ne):ne=e[113];let re;e[114]!==ie||e[115]!==ne?(re=t.jsxs(Pe,{children:[ie,ne]}),e[114]=ie,e[115]=ne,e[116]=re):re=e[116];let oe;e[117]!==w||e[118]!==i||e[119]!==s?(oe=i&&t.jsx(Ke,{action:`/admin/categories/${i.id}`,method:"put",parentOptions:w,defaultValues:{name_en:i.name_en,name_ar:i.name_ar,slug:i.slug,description:i.description??"",parent_id:i.parent_id??void 0},submitLabel:s("actions.update"),onSuccess:()=>F(null)}),e[117]=w,e[118]=i,e[119]=s,e[120]=oe):oe=e[120];let ce;e[121]!==re||e[122]!==oe?(ce=t.jsxs(Re,{children:[re,oe]}),e[121]=re,e[122]=oe,e[123]=ce):ce=e[123];let de;e[124]!==ze||e[125]!==ce?(de=t.jsx(Ge,{open:ze,onOpenChange:ke,children:ce}),e[124]=ze,e[125]=ce,e[126]=de):de=e[126];const Be=!!S;let Fe;e[127]===Symbol.for("react.memo_cache_sentinel")?(Fe=n=>{n||L(null)},e[127]=Fe):Fe=e[127];let me;e[128]!==s?(me=s("categories.deleteConfirm"),e[128]=s,e[129]=me):me=e[129];let fe;e[130]!==me?(fe=t.jsx(qe,{children:me}),e[130]=me,e[131]=fe):fe=e[131];let ue;e[132]!==s?(ue=s("categories.deleteConfirm",{defaultValue:"Delete this category?"}),e[132]=s,e[133]=ue):ue=e[133];let pe;e[134]!==ue?(pe=t.jsx(He,{children:ue}),e[134]=ue,e[135]=pe):pe=e[135];let xe;e[136]!==fe||e[137]!==pe?(xe=t.jsxs(Pe,{children:[fe,pe]}),e[136]=fe,e[137]=pe,e[138]=xe):xe=e[138];let Le;e[139]===Symbol.for("react.memo_cache_sentinel")?(Le=()=>L(null),e[139]=Le):Le=e[139];let ge;e[140]!==s?(ge=s("actions.cancel",{defaultValue:"Cancel"}),e[140]=s,e[141]=ge):ge=e[141];let he;e[142]!==ge?(he=t.jsx(O,{variant:"outline",onClick:Le,children:ge}),e[142]=ge,e[143]=he):he=e[143];let je;e[144]!==S?(je=()=>S&&De(S.id),e[144]=S,e[145]=je):je=e[145];let _e;e[146]!==s?(_e=s("actions.delete"),e[146]=s,e[147]=_e):_e=e[147];let be;e[148]!==je||e[149]!==_e?(be=t.jsx(O,{variant:"destructive",onClick:je,children:_e}),e[148]=je,e[149]=_e,e[150]=be):be=e[150];let ve;e[151]!==he||e[152]!==be?(ve=t.jsxs("div",{className:"flex justify-end gap-2",children:[he,be]}),e[151]=he,e[152]=be,e[153]=ve):ve=e[153];let Ne;e[154]!==xe||e[155]!==ve?(Ne=t.jsxs(Re,{children:[xe,ve]}),e[154]=xe,e[155]=ve,e[156]=Ne):Ne=e[156];let ye;e[157]!==Be||e[158]!==Ne?(ye=t.jsx(Ge,{open:Be,onOpenChange:Fe,children:Ne}),e[157]=Be,e[158]=Ne,e[159]=ye):ye=e[159];let Se;e[160]!==P||e[161]!==te||e[162]!==se||e[163]!==de||e[164]!==ye?(Se=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[P,te,se,de,ye]}),e[160]=P,e[161]=te,e[162]=se,e[163]=de,e[164]=ye,e[165]=Se):Se=e[165];let Oe;return e[166]!==h||e[167]!==j||e[168]!==Se?(Oe=t.jsxs(lt,{breadcrumbs:h,children:[j,Se]}),e[166]=h,e[167]=j,e[168]=Se,e[169]=Oe):Oe=e[169],Oe}export{kt as default};
