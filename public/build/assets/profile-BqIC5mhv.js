import{c as V,r as z,j as r,F as $,u as W,L as X,H as Y}from"./app-XseEcuwc.js";import{q as R}from"./index-CMWG4mbA.js";import{s as Z}from"./index-y-ziY71e.js";import{H}from"./heading-small-DY-qSEz3.js";import{I as k}from"./input-error-Dx3_jmKc.js";import{B as S}from"./button-DI4PaxQ7.js";import{f as ee,g as te,D as re,a as se,b as le,d as ie,e as ae}from"./dialog-DBndcIzu.js";import{I as L}from"./input-MwdOiVtB.js";import{L as I}from"./label-DepknyqC.js";import{u as O,b as oe}from"./index-CR-rnG23.js";import{e as ne,A as me}from"./app-layout-CZoO53OF.js";import{S as ce}from"./layout-htMqNquI.js";import{R as de}from"./researcher-profile-form-DEH_C8cI.js";import{z as ue}from"./transition-DmhAXXHM.js";/* empty css            */import"./index-BHKBQx4H.js";import"./index-C3Hm02L2.js";import"./index-DRE42a0L.js";import"./index-BDsVhmEQ.js";import"./index-DPjtb1Rz.js";import"./x-DgzPl7e4.js";import"./select-Bhj_cBoa.js";import"./index-BitGjllA.js";import"./app-logo-icon-3mANveO6.js";import"./index-BZB35nAZ.js";import"./app-logo-BdIHiqic.js";import"./chevron-right-BMEIDfYh.js";import"./separator-Bn2N1jcV.js";import"./index-B3vMSVka.js";import"./textarea-UpJGMb4k.js";import"./checkbox-JVt2AbBM.js";import"./alert-P3b7wFRq.js";import"./trash-2-amZuM-2x.js";import"./plus-CF7Brvnu.js";const p=e=>({url:p.url(e),method:"get"});p.definition={methods:["get","head"],url:"/settings/profile"};p.url=e=>p.definition.url+R(e);p.get=e=>({url:p.url(e),method:"get"});p.head=e=>({url:p.url(e),method:"head"});const B=e=>({action:p.url(e),method:"get"});B.get=e=>({action:p.url(e),method:"get"});B.head=e=>({action:p.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});p.form=B;const A=e=>({url:A.url(e),method:"patch"});A.definition={methods:["patch"],url:"/settings/profile"};A.url=e=>A.definition.url+R(e);A.patch=e=>({url:A.url(e),method:"patch"});const U=e=>({action:A.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});U.patch=e=>({action:A.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});A.form=U;const w=e=>({url:w.url(e),method:"delete"});w.definition={methods:["delete"],url:"/settings/profile"};w.url=e=>w.definition.url+R(e);w.delete=e=>({url:w.url(e),method:"delete"});const G=e=>({action:w.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});G.delete=e=>({action:w.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});w.form=G;const J={update:A,destroy:w};function fe(){const e=V.c(48),t=z.useRef(null),{t:l}=O();let N;e[0]!==l?(N=l("deleteAccount.title"),e[0]=l,e[1]=N):N=e[1];let u;e[2]!==l?(u=l("deleteAccount.description"),e[2]=l,e[3]=u):u=e[3];let i;e[4]!==N||e[5]!==u?(i=r.jsx(H,{title:N,description:u}),e[4]=N,e[5]=u,e[6]=i):i=e[6];let f;e[7]!==l?(f=l("deleteAccount.warningTitle"),e[7]=l,e[8]=f):f=e[8];let q;e[9]!==f?(q=r.jsx("p",{className:"font-medium",children:f}),e[9]=f,e[10]=q):q=e[10];let _;e[11]!==l?(_=l("deleteAccount.warningBody"),e[11]=l,e[12]=_):_=e[12];let s;e[13]!==_?(s=r.jsx("p",{className:"text-sm",children:_}),e[13]=_,e[14]=s):s=e[14];let a;e[15]!==q||e[16]!==s?(a=r.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[q,s]}),e[15]=q,e[16]=s,e[17]=a):a=e[17];let h;e[18]!==l?(h=l("deleteAccount.cta"),e[18]=l,e[19]=h):h=e[19];let g;e[20]!==h?(g=r.jsx(re,{asChild:!0,children:r.jsx(S,{variant:"destructive","data-test":"delete-user-button",children:h})}),e[20]=h,e[21]=g):g=e[21];let b;e[22]!==l?(b=l("deleteAccount.confirmTitle"),e[22]=l,e[23]=b):b=e[23];let o;e[24]!==b?(o=r.jsx(se,{children:b}),e[24]=b,e[25]=o):o=e[25];let n;e[26]!==l?(n=l("deleteAccount.confirmDescription"),e[26]=l,e[27]=n):n=e[27];let m;e[28]!==n?(m=r.jsx(le,{children:n}),e[28]=n,e[29]=m):m=e[29];let x,D,C;e[30]===Symbol.for("react.memo_cache_sentinel")?(x=J.destroy.form(),D={preserveScroll:!0},C=()=>t.current?.focus(),e[30]=x,e[31]=D,e[32]=C):(x=e[30],D=e[31],C=e[32]);let j;e[33]!==l?(j=r.jsx($,{...x,options:D,onError:C,resetOnSuccess:!0,className:"space-y-6",children:T=>{const{resetAndClearErrors:F,processing:E,errors:Q}=T;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(I,{htmlFor:"password",className:"sr-only",children:l("deleteAccount.passwordLabel")}),r.jsx(L,{id:"password",type:"password",name:"password",ref:t,placeholder:l("deleteAccount.passwordLabel"),autoComplete:"current-password"}),r.jsx(k,{message:Q.password})]}),r.jsxs(ee,{className:"gap-2",children:[r.jsx(te,{asChild:!0,children:r.jsx(S,{variant:"secondary",onClick:()=>F(),children:l("actions.cancel")})}),r.jsx(S,{variant:"destructive",disabled:E,asChild:!0,children:r.jsx("button",{type:"submit","data-test":"confirm-delete-user-button",children:l("deleteAccount.cta")})})]})]})}}),e[33]=l,e[34]=j):j=e[34];let y;e[35]!==o||e[36]!==m||e[37]!==j?(y=r.jsxs(ie,{children:[o,m,j]}),e[35]=o,e[36]=m,e[37]=j,e[38]=y):y=e[38];let c;e[39]!==y||e[40]!==g?(c=r.jsxs(ae,{children:[g,y]}),e[39]=y,e[40]=g,e[41]=c):c=e[41];let d;e[42]!==c||e[43]!==a?(d=r.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[a,c]}),e[42]=c,e[43]=a,e[44]=d):d=e[44];let v;return e[45]!==i||e[46]!==d?(v=r.jsxs("div",{className:"space-y-6",children:[i,d]}),e[45]=i,e[46]=d,e[47]=v):v=e[47],v}function Ke(e){const t=V.c(42),{mustVerifyEmail:l,status:N,researcherProfile:u}=e,{auth:i}=W().props,[f,q]=z.useState("account"),_=!!u,{t:s}=O();let a;t[0]!==s?(a=s("nav.profile"),t[0]=s,t[1]=a):a=t[1];let h;t[2]===Symbol.for("react.memo_cache_sentinel")?(h=ne(),t[2]=h):h=t[2];let g;t[3]!==a?(g=[{title:a,href:h.url}],t[3]=a,t[4]=g):g=t[4];const b=g;let o;t[5]!==s?(o=s("settings.profileInformation"),t[5]=s,t[6]=o):o=t[6];let n;t[7]!==o?(n={id:"account",label:o},t[7]=o,t[8]=n):n=t[8];let m;t[9]!==s?(m=s("researcher.profileTitle"),t[9]=s,t[10]=m):m=t[10];let x;t[11]!==m?(x={id:"researcher",label:m},t[11]=m,t[12]=x):x=t[12];let D;t[13]!==n||t[14]!==x?(D=[n,x],t[13]=n,t[14]=x,t[15]=D):D=t[15];const C=D;let j;t[16]!==i.user.email||t[17]!==i.user.email_verified_at||t[18]!==i.user.first_name||t[19]!==i.user.last_name||t[20]!==l||t[21]!==N||t[22]!==s?(j=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsx(H,{title:s("settings.profileInformation"),description:s("settings.profileInformationDescription")}),r.jsx($,{...J.update.form(),options:{preserveScroll:!0},className:"space-y-6",children:Q=>{const{processing:K,recentlySuccessful:M,errors:P}=Q;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(I,{htmlFor:"first_name",children:s("settings.firstName")}),r.jsx(L,{id:"first_name",className:"mt-1 block w-full",defaultValue:i.user.first_name,name:"first_name",required:!0,autoComplete:"given-name",placeholder:s("settings.firstName")}),r.jsx(k,{className:"mt-2",message:P.first_name})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(I,{htmlFor:"last_name",children:s("settings.lastName")}),r.jsx(L,{id:"last_name",className:"mt-1 block w-full",defaultValue:i.user.last_name,name:"last_name",required:!0,autoComplete:"family-name",placeholder:s("settings.lastName")}),r.jsx(k,{className:"mt-2",message:P.last_name})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(I,{htmlFor:"email",children:s("settings.email")}),r.jsx(L,{id:"email",type:"email",className:"mt-1 block w-full",defaultValue:i.user.email,name:"email",required:!0,autoComplete:"username",placeholder:s("settings.email")}),r.jsx(k,{className:"mt-2",message:P.email})]}),l&&i.user.email_verified_at===null&&r.jsxs("div",{children:[r.jsxs("p",{className:"-mt-4 text-sm text-muted-foreground",children:[s("settings.unverified")," ",r.jsx(X,{href:Z(),as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:s("settings.resend")})]}),N==="verification-link-sent"&&r.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:s("settings.verificationSent")})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(S,{disabled:K,"data-test":"update-profile-button",children:s("actions.save")}),r.jsx(ue,{show:M,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:r.jsx("p",{className:"text-sm text-neutral-600",children:s("settings.saved")})})]})]})}})]}),t[16]=i.user.email,t[17]=i.user.email_verified_at,t[18]=i.user.first_name,t[19]=i.user.last_name,t[20]=l,t[21]=N,t[22]=s,t[23]=j):j=t[23];const y=j;let c;t[24]!==s?(c=s("nav.profile"),t[24]=s,t[25]=c):c=t[25];let d;t[26]!==c?(d=r.jsx(Y,{title:c}),t[26]=c,t[27]=d):d=t[27];let v;t[28]!==f||t[29]!==_||t[30]!==y||t[31]!==u||t[32]!==C||t[33]!==s?(v=_?r.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[r.jsx("aside",{className:"md:w-48",children:r.jsx("nav",{className:"flex flex-col space-y-2",children:C.map(Q=>r.jsx(S,{type:"button",variant:"ghost",size:"sm",className:oe("justify-start",f===Q.id&&"bg-muted"),onClick:()=>q(Q.id),children:Q.label},Q.id))})}),r.jsxs("div",{className:"flex-1 space-y-10",children:[f==="account"&&y(),f==="researcher"&&u&&r.jsxs("div",{className:"space-y-6",children:[r.jsx(H,{title:s("researcher.profileTitle"),description:s("researcher.profileDescription")}),r.jsx(de,{...u})]})]})]}):y(),t[28]=f,t[29]=_,t[30]=y,t[31]=u,t[32]=C,t[33]=s,t[34]=v):v=t[34];let T;t[35]===Symbol.for("react.memo_cache_sentinel")?(T=r.jsx(fe,{}),t[35]=T):T=t[35];let F;t[36]!==v?(F=r.jsxs(ce,{children:[v,T]}),t[36]=v,t[37]=F):F=t[37];let E;return t[38]!==b||t[39]!==d||t[40]!==F?(E=r.jsxs(me,{breadcrumbs:b,children:[d,F]}),t[38]=b,t[39]=d,t[40]=F,t[41]=E):E=t[41],E}export{Ke as default};
