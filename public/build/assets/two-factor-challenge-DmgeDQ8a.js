import{c as O,r as b,j as o,F as R,H as P}from"./app-XseEcuwc.js";import{I as E}from"./input-error-Dx3_jmKc.js";import{B as S}from"./button-DI4PaxQ7.js";import{I as k}from"./input-MwdOiVtB.js";import{I as H,K as L,O as I,a as B,b as D}from"./use-two-factor-auth-6s_qn98H.js";import{A as G}from"./auth-layout-CQSvJDR9.js";import{s as K}from"./index-B3vMSVka.js";import{u as M}from"./index-CR-rnG23.js";/* empty css            */import"./app-logo-BdIHiqic.js";import"./index-CMWG4mbA.js";function oe(){const e=O.c(42),[r,V]=b.useState(!1),[v,_]=b.useState(""),{t,direction:C}=M();let w;e:{if(r){let c;e[0]!==t?(c=t("auth.twoFactorChallenge.recoveryTitle",{defaultValue:"Recovery Code"}),e[0]=t,e[1]=c):c=e[1];let m;e[2]!==t?(m=t("auth.twoFactorChallenge.recoveryDescription",{defaultValue:"Please confirm access to your account by entering one of your emergency recovery codes."}),e[2]=t,e[3]=m):m=e[3];let p;e[4]!==t?(p=t("auth.twoFactorChallenge.useAuthCode",{defaultValue:"login using an authentication code"}),e[4]=t,e[5]=p):p=e[5];let j;e[6]!==c||e[7]!==m||e[8]!==p?(j={title:c,description:m,toggleText:p},e[6]=c,e[7]=m,e[8]=p,e[9]=j):j=e[9],w=j;break e}let a;e[10]!==t?(a=t("auth.twoFactorChallenge.authTitle",{defaultValue:"Authentication Code"}),e[10]=t,e[11]=a):a=e[11];let l;e[12]!==t?(l=t("auth.twoFactorChallenge.authDescription",{defaultValue:"Enter the authentication code provided by your authenticator application."}),e[12]=t,e[13]=l):l=e[13];let n;e[14]!==t?(n=t("auth.twoFactorChallenge.useRecovery",{defaultValue:"login using a recovery code"}),e[14]=t,e[15]=n):n=e[15];let h;e[16]!==a||e[17]!==l||e[18]!==n?(h={title:a,description:l,toggleText:n},e[16]=a,e[17]=l,e[18]=n,e[19]=h):h=e[19],w=h}const s=w;let x;e[20]!==r?(x=a=>{V(!r),a(),_("")},e[20]=r,e[21]=x):x=e[21];const F=x,N=s.title,A=s.description;let i;e[22]!==t?(i=t("auth.twoFactorChallenge.headTitle",{defaultValue:"Two-Factor Authentication"}),e[22]=t,e[23]=i):i=e[23];let u;e[24]!==i?(u=o.jsx(P,{title:i}),e[24]=i,e[25]=u):u=e[25];let g;e[26]===Symbol.for("react.memo_cache_sentinel")?(g=K.form(),e[26]=g):g=e[26];const T=!r;let d;e[27]!==s.toggleText||e[28]!==v||e[29]!==C||e[30]!==r||e[31]!==t||e[32]!==F?(d=a=>{const{errors:l,processing:n,clearErrors:h}=a;return o.jsxs(o.Fragment,{children:[r?o.jsxs(o.Fragment,{children:[o.jsx(k,{name:"recovery_code",type:"text",placeholder:t("auth.twoFactorChallenge.recoveryPlaceholder",{defaultValue:"Enter recovery code"}),autoFocus:r,required:!0}),o.jsx(E,{message:l.recovery_code})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 text-center",children:[o.jsx("div",{className:"flex w-full items-center justify-center",children:o.jsx(H,{name:"code",maxLength:I,value:v,onChange:c=>_(c),disabled:n,pattern:L,children:o.jsx(B,{children:Array.from({length:I},$)})})}),o.jsx(E,{message:l.code})]}),o.jsx(S,{type:"submit",className:"w-full",disabled:n,children:t("actions.forward",{defaultValue:"Continue"})}),o.jsxs("div",{className:`text-center text-sm text-muted-foreground ${C==="rtl"?"space-x-reverse space-x-1":"space-x-1"}`,children:[o.jsx("span",{children:t("auth.twoFactorChallenge.or",{defaultValue:"or you can "})}),o.jsx("button",{type:"button",className:"cursor-pointer text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",onClick:()=>F(h),children:s.toggleText})]})]})},e[27]=s.toggleText,e[28]=v,e[29]=C,e[30]=r,e[31]=t,e[32]=F,e[33]=d):d=e[33];let f;e[34]!==T||e[35]!==d?(f=o.jsx("div",{className:"space-y-6",children:o.jsx(R,{...g,className:"space-y-4",resetOnError:!0,resetOnSuccess:T,children:d})}),e[34]=T,e[35]=d,e[36]=f):f=e[36];let y;return e[37]!==s.description||e[38]!==s.title||e[39]!==u||e[40]!==f?(y=o.jsxs(G,{title:N,description:A,children:[u,f]}),e[37]=s.description,e[38]=s.title,e[39]=u,e[40]=f,e[41]=y):y=e[41],y}function $(e,r){return o.jsx(D,{index:r},r)}export{oe as default};
