import{r as u,j as d,c as H}from"./app-XseEcuwc.js";import{u as w}from"./button-DI4PaxQ7.js";import{c as z,P as _,u as G,a as N}from"./index-C3Hm02L2.js";import{a as K,u as U,C as X}from"./index-BitGjllA.js";import{P as $}from"./index-DPjtb1Rz.js";import{b as S}from"./index-CR-rnG23.js";var y="Checkbox",[J,se]=z(y),[Q,P]=J(y);function V(r){const{__scopeCheckbox:s,checked:e,children:n,defaultChecked:o,disabled:t,form:c,name:a,onCheckedChange:f,required:m,value:k="on",internal_do_not_use_render:p}=r,[b,v]=G({prop:e,defaultProp:o??!1,onChange:f,caller:y}),[C,x]=u.useState(null),[g,i]=u.useState(null),l=u.useRef(!1),E=C?!!c||!!C.closest("form"):!0,R={checked:b,disabled:t,setChecked:v,control:C,setControl:x,name:a,form:c,value:k,hasConsumerStoppedPropagationRef:l,required:m,defaultChecked:h(o)?!1:o,isFormControl:E,bubbleInput:g,setBubbleInput:i};return d.jsx(Q,{scope:s,...R,children:W(p)?p(R):n})}var B="CheckboxTrigger",M=u.forwardRef(({__scopeCheckbox:r,onKeyDown:s,onClick:e,...n},o)=>{const{control:t,value:c,disabled:a,checked:f,required:m,setControl:k,setChecked:p,hasConsumerStoppedPropagationRef:b,isFormControl:v,bubbleInput:C}=P(B,r),x=w(o,k),g=u.useRef(f);return u.useEffect(()=>{const i=t?.form;if(i){const l=()=>p(g.current);return i.addEventListener("reset",l),()=>i.removeEventListener("reset",l)}},[t,p]),d.jsx(_.button,{type:"button",role:"checkbox","aria-checked":h(f)?"mixed":f,"aria-required":m,"data-state":F(f),"data-disabled":a?"":void 0,disabled:a,value:c,...n,ref:x,onKeyDown:N(s,i=>{i.key==="Enter"&&i.preventDefault()}),onClick:N(e,i=>{p(l=>h(l)?!0:!l),C&&v&&(b.current=i.isPropagationStopped(),b.current||i.stopPropagation())})})});M.displayName=B;var I=u.forwardRef((r,s)=>{const{__scopeCheckbox:e,name:n,checked:o,defaultChecked:t,required:c,disabled:a,value:f,onCheckedChange:m,form:k,...p}=r;return d.jsx(V,{__scopeCheckbox:e,checked:o,defaultChecked:t,disabled:a,required:c,onCheckedChange:m,name:n,form:k,value:f,internal_do_not_use_render:({isFormControl:b})=>d.jsxs(d.Fragment,{children:[d.jsx(M,{...p,ref:s,__scopeCheckbox:e}),b&&d.jsx(D,{__scopeCheckbox:e})]})})});I.displayName=y;var T="CheckboxIndicator",q=u.forwardRef((r,s)=>{const{__scopeCheckbox:e,forceMount:n,...o}=r,t=P(T,e);return d.jsx($,{present:n||h(t.checked)||t.checked===!0,children:d.jsx(_.span,{"data-state":F(t.checked),"data-disabled":t.disabled?"":void 0,...o,ref:s,style:{pointerEvents:"none",...r.style}})})});q.displayName=T;var A="CheckboxBubbleInput",D=u.forwardRef(({__scopeCheckbox:r,...s},e)=>{const{control:n,hasConsumerStoppedPropagationRef:o,checked:t,defaultChecked:c,required:a,disabled:f,name:m,value:k,form:p,bubbleInput:b,setBubbleInput:v}=P(A,r),C=w(e,v),x=K(t),g=U(n);u.useEffect(()=>{const l=b;if(!l)return;const E=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(E,"checked").set,L=!o.current;if(x!==t&&j){const O=new Event("click",{bubbles:L});l.indeterminate=h(t),j.call(l,h(t)?!1:t),l.dispatchEvent(O)}},[b,x,t,o]);const i=u.useRef(h(t)?!1:t);return d.jsx(_.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??i.current,required:a,disabled:f,name:m,value:k,form:p,...s,tabIndex:-1,ref:C,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});D.displayName=A;function W(r){return typeof r=="function"}function h(r){return r==="indeterminate"}function F(r){return h(r)?"indeterminate":r?"checked":"unchecked"}const Y=u.forwardRef((r,s)=>{const e=H.c(10);let n,o;e[0]!==r?({className:n,...o}=r,e[0]=r,e[1]=n,e[2]=o):(n=e[1],o=e[2]);let t;e[3]!==n?(t=S("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),e[3]=n,e[4]=t):t=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=d.jsx(q,{className:S("flex items-center justify-center text-current"),children:d.jsx(X,{className:"h-4 w-4"})}),e[5]=c):c=e[5];let a;return e[6]!==o||e[7]!==s||e[8]!==t?(a=d.jsx(I,{ref:s,className:t,...o,children:c}),e[6]=o,e[7]=s,e[8]=t,e[9]=a):a=e[9],a});Y.displayName=I.displayName;export{Y as C};
