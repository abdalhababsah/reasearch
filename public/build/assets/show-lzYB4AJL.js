import{c as qt,u as Ht,r as zt,j as t,L as At}from"./app-XseEcuwc.js";import{A as Ot,S as Yt,M as Gt,U as Ut,H as Qt}from"./home-layout-ByJuKB1i.js";import{c as h,u as Et}from"./index-CR-rnG23.js";import{m as o,F as jt}from"./app-logo-icon-3mANveO6.js";import{A as Tt,G as Kt,S as Zt}from"./share-2-BBRKvASS.js";import{B as Jt}from"./building-2-N4MO84Jp.js";import{T as Dt}from"./tag-DPY6iRJu.js";import{B as Xt}from"./book-open-CEl3Ebzk.js";import{S as es}from"./search--0c8gq_q.js";import{C as ts}from"./chevron-right-BMEIDfYh.js";import{D as ss}from"./download-CEZ7BJdo.js";import{A as as}from"./arrow-left-CY72dKNG.js";import{C as rs}from"./calendar-2H4sOr-p.js";import{B as ls}from"./bookmark-DNzpqPtE.js";import{F as is}from"./file-DQ3ZriMY.js";/* empty css            */import"./users-D0pypn9R.js";import"./plus-CF7Brvnu.js";import"./x-DgzPl7e4.js";import"./sun-xvozAqU7.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],ns=h("ArrowUpNarrowWide",os);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],cs=h("ChevronLeft",ds);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],xs=h("FileImage",ms);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Lt=h("Folder",hs);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],fs=h("Grid3x3",ps);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],bs=h("List",us);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],gs=h("Quote",ys);function Qs(){const e=qt.c(236),{auth:d,research:s}=Ht().props,{t:a,locale:p}=Et(),wt=!!d.user,[c,Fe]=zt.useState(0),[Se,Bt]=zt.useState("list"),[m,Pt]=zt.useState(""),Nt=s.files.length>0;let vt;e:{if(!m){vt=s.files;break e}let r;if(e[0]!==s.files||e[1]!==m){let l;e[3]!==m?(l=n=>n.name.toLowerCase().includes(m.toLowerCase()),e[3]=m,e[4]=l):l=e[4],r=s.files.filter(l),e[0]=s.files,e[1]=m,e[2]=r}else r=e[2];vt=r}const f=vt;let Me;e[5]!==p?(Me=r=>p==="ar"?r.name_ar:r.name_en,e[5]=p,e[6]=Me):Me=e[6];const Ve=Me;let $e;e[7]!==p?($e=r=>p==="ar"?r.name_ar:r.name_en,e[7]=p,e[8]=$e):$e=e[8];const kt=$e;let Ce;e[9]!==s.published_at||e[10]!==s.year?(Ce=s.published_at?new Date(s.published_at).getFullYear():s.year,e[9]=s.published_at,e[10]=s.year,e[11]=Ce):Ce=e[11];const x=Ce,ze=Ss,_t=_s;let Ae;e[12]!==s.abstract||e[13]!==s.title?(Ae=()=>{navigator.share&&navigator.share({title:s.title,text:s.abstract,url:window.location.href})},e[12]=s.abstract,e[13]=s.title,e[14]=Ae):Ae=e[14];const St=Ae;let Le;e[15]!==a?(Le=r=>{if(!r)return t.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground text-sm",children:a("research.noFileSelected",{defaultValue:"No file selected."})});const{mime_type:l,url:n,name:i}=r,It=i.split(".").pop()?.toLowerCase()||"";return l.startsWith("image/")?t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-black/5 dark:bg-black/50",children:t.jsx("img",{src:n,alt:i,className:"max-h-full max-w-full object-contain"})}):l.startsWith("audio/")?t.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:a("research.audioPreview",{defaultValue:"Audio preview"})}),t.jsxs("audio",{controls:!0,className:"w-full max-w-xl",children:[t.jsx("source",{src:n,type:l}),a("research.audioNotSupported",{defaultValue:"Your browser does not support the audio element."})]})]}):l.startsWith("video/")?t.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center gap-4 bg-black/80",children:t.jsxs("video",{controls:!0,className:"w-full h-full max-h-full object-contain",children:[t.jsx("source",{src:n,type:l}),a("research.videoNotSupported",{defaultValue:"Your browser does not support the video element."})]})}):l.startsWith("text/")||["json","md","txt","log","js","ts","jsx","tsx","py","php","java","rb","cs","cpp"].includes(It)?t.jsx("iframe",{src:n,title:i,className:"w-full h-full bg-white dark:bg-black"}):l==="application/pdf"||["pdf","doc","docx","ppt","pptx","xls","xlsx"].includes(It)?t.jsx("iframe",{src:n,title:i,className:"w-full h-full bg-white dark:bg-black"}):t.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground max-w-md text-center",children:a("research.previewFallback",{defaultValue:"Your browser will handle this file type. If it cannot display it, it will be downloaded automatically."})}),t.jsx("iframe",{src:n,title:i,className:"w-full h-3/4 border rounded-lg bg-white dark:bg-black"})]})},e[15]=a,e[16]=Le):Le=e[16];const Vt=Le,Rt=s.title;let Be,Ie,De;e[17]===Symbol.for("react.memo_cache_sentinel")?(Be=t.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#8080800a_1px,transparent_1px),linear-gradient(to_bottom,#8080800a_1px,transparent_1px)] bg-[size:64px_64px]"}),Ie=t.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl"}),De=t.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-primary/3 rounded-full blur-3xl"}),e[17]=Be,e[18]=Ie,e[19]=De):(Be=e[17],Ie=e[18],De=e[19]);let Pe,Re,We;e[20]===Symbol.for("react.memo_cache_sentinel")?(Pe={opacity:0,x:-20},Re={opacity:1,x:0},We={x:-5},e[20]=Pe,e[21]=Re,e[22]=We):(Pe=e[20],Re=e[21],We=e[22]);let qe;e[23]===Symbol.for("react.memo_cache_sentinel")?(qe=t.jsx(as,{className:"h-4 w-4"}),e[23]=qe):qe=e[23];let u;e[24]!==a?(u=a("actions.back",{defaultValue:"Back to Research"}),e[24]=a,e[25]=u):u=e[25];let b;e[26]!==u?(b=t.jsxs(o.button,{initial:Pe,animate:Re,whileHover:We,onClick:ks,className:"mb-6 flex items-center gap-2 text-sm font-semibold text-muted-foreground hover:text-primary transition-colors",children:[qe,u]}),e[26]=u,e[27]=b):b=e[27];let He,Oe,Ye;e[28]===Symbol.for("react.memo_cache_sentinel")?(He={opacity:0,y:20},Oe={opacity:1,y:0},Ye={delay:.1},e[28]=He,e[29]=Oe,e[30]=Ye):(He=e[28],Oe=e[29],Ye=e[30]);let Ge;e[31]===Symbol.for("react.memo_cache_sentinel")?(Ge=t.jsx(Yt,{className:"h-4 w-4 text-primary"}),e[31]=Ge):Ge=e[31];let y;e[32]!==a?(y=a("research.publication",{defaultValue:"Research Publication"}),e[32]=a,e[33]=y):y=e[33];let g;e[34]!==y?(g=t.jsxs(o.div,{initial:He,animate:Oe,transition:Ye,className:"mb-6 inline-flex items-center gap-2 rounded-full border-2 border-primary/20 bg-white dark:bg-gray-900 px-4 py-2 shadow-lg",children:[Ge,t.jsx("span",{className:"text-sm font-semibold text-primary",children:y})]}),e[34]=y,e[35]=g):g=e[35];let Ue,Qe,Ee;e[36]===Symbol.for("react.memo_cache_sentinel")?(Ue={opacity:0,y:20},Qe={opacity:1,y:0},Ee={delay:.2},e[36]=Ue,e[37]=Qe,e[38]=Ee):(Ue=e[36],Qe=e[37],Ee=e[38]);let j;e[39]!==s.title?(j=t.jsx(o.h1,{initial:Ue,animate:Qe,transition:Ee,className:"text-4xl lg:text-5xl xl:text-6xl font-bold mb-6 leading-tight max-w-5xl",children:s.title}),e[39]=s.title,e[40]=j):j=e[40];let Te,Ke,Ze;e[41]===Symbol.for("react.memo_cache_sentinel")?(Te={opacity:0,y:20},Ke={opacity:1,y:0},Ze={delay:.3},e[41]=Te,e[42]=Ke,e[43]=Ze):(Te=e[41],Ke=e[42],Ze=e[43]);let w;e[44]!==s.journal_name?(w=s.journal_name&&t.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-primary",children:[t.jsx(Tt,{className:"h-5 w-5"}),s.journal_name]}),e[44]=s.journal_name,e[45]=w):w=e[45];let N;e[46]!==x?(N=x&&t.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[t.jsx(rs,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"font-medium",children:x})]}),e[46]=x,e[47]=N):N=e[47];let v;e[48]!==s.doi?(v=s.doi&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground font-mono",children:[t.jsx(Kt,{className:"h-4 w-4 text-primary"}),t.jsxs("span",{children:["DOI: ",s.doi]})]}),e[48]=s.doi,e[49]=v):v=e[49];let k;e[50]!==w||e[51]!==N||e[52]!==v?(k=t.jsxs(o.div,{initial:Te,animate:Ke,transition:Ze,className:"flex flex-wrap items-center gap-6 mb-8",children:[w,N,v]}),e[50]=w,e[51]=N,e[52]=v,e[53]=k):k=e[53];let Je,Xe,et;e[54]===Symbol.for("react.memo_cache_sentinel")?(Je={opacity:0,y:20},Xe={opacity:1,y:0},et={delay:.4},e[54]=Je,e[55]=Xe,e[56]=et):(Je=e[54],Xe=e[55],et=e[56]);let _;if(e[57]!==Ve||e[58]!==s.categories){let r;e[60]!==Ve?(r=(l,n)=>t.jsx(o.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5+n*.1},whileHover:{scale:1.05},className:"px-5 py-2.5 bg-primary/10 border-2 border-primary/20 text-primary rounded-full text-sm font-semibold shadow-sm",children:Ve(l)},l.id),e[60]=Ve,e[61]=r):r=e[61],_=s.categories.map(r),e[57]=Ve,e[58]=s.categories,e[59]=_}else _=e[59];let S;e[62]!==_?(S=t.jsx(o.div,{initial:Je,animate:Xe,transition:et,className:"flex flex-wrap gap-3 mb-8",children:_}),e[62]=_,e[63]=S):S=e[63];let tt,st,at;e[64]===Symbol.for("react.memo_cache_sentinel")?(tt={opacity:0,y:20},st={opacity:1,y:0},at={delay:.6},e[64]=tt,e[65]=st,e[66]=at):(tt=e[64],st=e[65],at=e[66]);const Ft=`/researchers/${s.author.id}`;let V;e[67]!==s.author.name?(V=s.author.name.split(" ").map(vs).join("").toUpperCase().slice(0,2),e[67]=s.author.name,e[68]=V):V=e[68];let F;e[69]!==Ft||e[70]!==V?(F=t.jsx(At,{href:Ft,className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-primary to-primary/70 text-2xl font-bold text-white shadow-lg hover:shadow-xl transition-shadow flex-shrink-0",children:V}),e[69]=Ft,e[70]=V,e[71]=F):F=e[71];let M;e[72]!==a?(M=a("research.author",{defaultValue:"Author"}),e[72]=a,e[73]=M):M=e[73];let $;e[74]!==M?($=t.jsx("p",{className:"text-sm uppercase tracking-wider text-muted-foreground font-semibold mb-1",children:M}),e[74]=M,e[75]=$):$=e[75];const Mt=`/researchers/${s.author.id}`;let C;e[76]!==s.author.name||e[77]!==Mt?(C=t.jsx(At,{href:Mt,className:"text-xl font-bold hover:text-primary transition-colors",children:s.author.name}),e[76]=s.author.name,e[77]=Mt,e[78]=C):C=e[78];let z;e[79]!==s.author.headline?(z=s.author.headline&&t.jsx("p",{className:"text-sm text-primary font-semibold mt-1",children:s.author.headline}),e[79]=s.author.headline,e[80]=z):z=e[80];let A;e[81]!==s.author.institution?(A=s.author.institution&&t.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-2",children:[t.jsx(Jt,{className:"h-4 w-4"}),s.author.institution]}),e[81]=s.author.institution,e[82]=A):A=e[82];let L;e[83]!==$||e[84]!==C||e[85]!==z||e[86]!==A?(L=t.jsxs("div",{className:"flex-1",children:[$,C,z,A]}),e[83]=$,e[84]=C,e[85]=z,e[86]=A,e[87]=L):L=e[87];let B;e[88]!==F||e[89]!==L?(B=t.jsxs("div",{className:"flex items-center gap-4",children:[F,L]}),e[88]=F,e[89]=L,e[90]=B):B=e[90];const $t=`mailto:${s.author.email}`;let rt;e[91]===Symbol.for("react.memo_cache_sentinel")?(rt=t.jsx(Gt,{className:"h-4 w-4"}),e[91]=rt):rt=e[91];let I;e[92]!==a?(I=a("actions.contact",{defaultValue:"Contact Author"}),e[92]=a,e[93]=I):I=e[93];let D;e[94]!==$t||e[95]!==I?(D=t.jsxs("a",{href:$t,className:"inline-flex items-center gap-2 rounded-xl bg-primary px-6 py-3 text-sm font-semibold text-white shadow-lg hover:shadow-xl hover:shadow-primary/50 transition-all whitespace-nowrap",children:[rt,I]}),e[94]=$t,e[95]=I,e[96]=D):D=e[96];const Ct=`/researchers/${s.author.id}`;let lt;e[97]===Symbol.for("react.memo_cache_sentinel")?(lt=t.jsx(Ut,{className:"h-4 w-4"}),e[97]=lt):lt=e[97];let P;e[98]!==a?(P=a("actions.viewProfile",{defaultValue:"View Profile"}),e[98]=a,e[99]=P):P=e[99];let R;e[100]!==Ct||e[101]!==P?(R=t.jsxs(At,{href:Ct,className:"inline-flex items-center gap-2 rounded-xl border-2 border-primary/20 bg-background px-6 py-3 text-sm font-semibold hover:border-primary hover:bg-primary/5 transition-all",children:[lt,P]}),e[100]=Ct,e[101]=P,e[102]=R):R=e[102];let W;e[103]!==D||e[104]!==R?(W=t.jsxs("div",{className:"flex flex-wrap gap-3",children:[D,R]}),e[103]=D,e[104]=R,e[105]=W):W=e[105];let q;e[106]!==B||e[107]!==W?(q=t.jsx(o.div,{initial:tt,animate:st,transition:at,className:"rounded-2xl border-2 border-primary/10 bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm p-6 shadow-xl",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[B,W]})}),e[106]=B,e[107]=W,e[108]=q):q=e[108];let H;e[109]!==b||e[110]!==g||e[111]!==j||e[112]!==k||e[113]!==S||e[114]!==q?(H=t.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-b from-primary/5 via-background to-background border-b-2 border-primary/10",children:[Be,Ie,De,t.jsxs("div",{className:"container relative z-10 mx-auto px-4 py-8 max-w-7xl",children:[b,g,j,k,S,q]})]}),e[109]=b,e[110]=g,e[111]=j,e[112]=k,e[113]=S,e[114]=q,e[115]=H):H=e[115];let it,ot,nt;e[116]===Symbol.for("react.memo_cache_sentinel")?(it={opacity:0,y:30},ot={opacity:1,y:0},nt={once:!0},e[116]=it,e[117]=ot,e[118]=nt):(it=e[116],ot=e[117],nt=e[118]);let dt;e[119]===Symbol.for("react.memo_cache_sentinel")?(dt=t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10",children:t.jsx(gs,{className:"h-6 w-6 text-primary"})}),e[119]=dt):dt=e[119];let O;e[120]!==a?(O=a("research.abstract",{defaultValue:"Abstract"}),e[120]=a,e[121]=O):O=e[121];let Y;e[122]!==O?(Y=t.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[dt,t.jsx("h2",{className:"text-3xl font-bold",children:O})]}),e[122]=O,e[123]=Y):Y=e[123];let G;e[124]!==s.abstract?(G=t.jsx("p",{className:"whitespace-pre-wrap text-lg leading-relaxed text-muted-foreground",children:s.abstract}),e[124]=s.abstract,e[125]=G):G=e[125];let U;e[126]!==s.keywords||e[127]!==a?(U=s.keywords&&t.jsxs("div",{className:"mt-8 pt-8 border-t-2 border-primary/10",children:[t.jsxs("h3",{className:"mb-4 text-lg font-semibold flex items-center gap-2",children:[t.jsx(Dt,{className:"h-5 w-5 text-primary"}),a("research.keywords",{defaultValue:"Keywords"})]}),t.jsx("div",{className:"flex flex-wrap gap-3",children:s.keywords.split(/[;,]+/).map(Ns).filter(Boolean).map(ws)})]}),e[126]=s.keywords,e[127]=a,e[128]=U):U=e[128];let Q;e[129]!==Y||e[130]!==G||e[131]!==U?(Q=t.jsxs(o.section,{initial:it,whileInView:ot,viewport:nt,className:"rounded-3xl border-2 border-primary/10 bg-gradient-to-br from-white to-muted/30 dark:from-gray-900 dark:to-gray-800/30 p-8 shadow-xl",children:[Y,G,U]}),e[129]=Y,e[130]=G,e[131]=U,e[132]=Q):Q=e[132];let E;e[133]!==kt||e[134]!==s.tags||e[135]!==a?(E=s.tags.length>0&&t.jsxs(o.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"rounded-3xl border-2 border-primary/10 bg-white dark:bg-gray-900 p-8 shadow-xl",children:[t.jsxs("h3",{className:"mb-4 text-xl font-bold flex items-center gap-2",children:[t.jsx(Dt,{className:"h-5 w-5 text-primary"}),a("research.tags",{defaultValue:"Research Tags"})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map(r=>t.jsxs("span",{className:"inline-flex items-center gap-1 rounded-lg bg-muted px-3 py-2 text-sm font-medium text-muted-foreground hover:bg-primary/10 hover:text-primary transition-colors",children:["#",kt(r)]},r.id))})]}),e[133]=kt,e[134]=s.tags,e[135]=a,e[136]=E):E=e[136];let T;e[137]!==Q||e[138]!==E?(T=t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[Q,E]}),e[137]=Q,e[138]=E,e[139]=T):T=e[139];let ct,mt,xt;e[140]===Symbol.for("react.memo_cache_sentinel")?(ct={opacity:0,scale:.95},mt={opacity:1,scale:1},xt={delay:.7},e[140]=ct,e[141]=mt,e[142]=xt):(ct=e[140],mt=e[141],xt=e[142]);let K;e[143]!==s.title||e[144]!==s.wallpaper_url?(K=s.wallpaper_url?t.jsx("img",{src:s.wallpaper_url,alt:s.title,className:"h-full w-full object-cover"}):t.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-br from-primary/20 to-primary/5",children:t.jsx(Xt,{className:"h-20 w-20 text-primary/60"})}),e[143]=s.title,e[144]=s.wallpaper_url,e[145]=K):K=e[145];let Z;e[146]!==x?(Z=t.jsx("div",{className:"text-3xl font-bold text-primary",children:x}),e[146]=x,e[147]=Z):Z=e[147];let J;e[148]!==a?(J=a("research.year",{defaultValue:"Year"}),e[148]=a,e[149]=J):J=e[149];let X;e[150]!==J?(X=t.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mt-1",children:J}),e[150]=J,e[151]=X):X=e[151];let ee;e[152]!==Z||e[153]!==X?(ee=t.jsx("div",{className:"absolute top-4 right-4 rounded-2xl bg-white/95 dark:bg-gray-900/95 backdrop-blur-md p-4 shadow-2xl",children:t.jsxs("div",{className:"text-center",children:[Z,X]})}),e[152]=Z,e[153]=X,e[154]=ee):ee=e[154];let te;e[155]!==K||e[156]!==ee?(te=t.jsxs("div",{className:"relative h-64",children:[K,ee]}),e[155]=K,e[156]=ee,e[157]=te):te=e[157];let ht;e[158]===Symbol.for("react.memo_cache_sentinel")?(ht=t.jsx(Zt,{className:"h-4 w-4"}),e[158]=ht):ht=e[158];let se;e[159]!==a?(se=a("actions.share",{defaultValue:"Share Research"}),e[159]=a,e[160]=se):se=e[160];let ae;e[161]!==St||e[162]!==se?(ae=t.jsxs("button",{onClick:St,className:"w-full flex items-center justify-center gap-2 rounded-xl bg-primary px-6 py-3 text-sm font-semibold text-white shadow-lg hover:shadow-xl hover:shadow-primary/50 transition-all",children:[ht,se]}),e[161]=St,e[162]=se,e[163]=ae):ae=e[163];let pt;e[164]===Symbol.for("react.memo_cache_sentinel")?(pt=t.jsx(ls,{className:"h-4 w-4"}),e[164]=pt):pt=e[164];let re;e[165]!==a?(re=a("actions.save",{defaultValue:"Save to Library"}),e[165]=a,e[166]=re):re=e[166];let le;e[167]!==re?(le=t.jsxs("button",{className:"w-full flex items-center justify-center gap-2 rounded-xl border-2 border-primary/20 bg-background px-6 py-3 text-sm font-semibold hover:border-primary hover:bg-primary/5 transition-all",children:[pt,re]}),e[167]=re,e[168]=le):le=e[168];let ie;e[169]!==s.files.length?(ie=t.jsx("div",{className:"text-2xl font-bold text-primary",children:s.files.length}),e[169]=s.files.length,e[170]=ie):ie=e[170];let oe;e[171]!==a?(oe=a("research.files",{defaultValue:"Files"}),e[171]=a,e[172]=oe):oe=e[172];let ne;e[173]!==oe?(ne=t.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mt-1",children:oe}),e[173]=oe,e[174]=ne):ne=e[174];let de;e[175]!==ie||e[176]!==ne?(de=t.jsxs("div",{className:"text-center",children:[ie,ne]}),e[175]=ie,e[176]=ne,e[177]=de):de=e[177];let ce;e[178]!==s.categories.length?(ce=t.jsx("div",{className:"text-2xl font-bold text-primary",children:s.categories.length}),e[178]=s.categories.length,e[179]=ce):ce=e[179];let me;e[180]!==a?(me=a("research.categories",{defaultValue:"Categories"}),e[180]=a,e[181]=me):me=e[181];let xe;e[182]!==me?(xe=t.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mt-1",children:me}),e[182]=me,e[183]=xe):xe=e[183];let he;e[184]!==ce||e[185]!==xe?(he=t.jsxs("div",{className:"text-center",children:[ce,xe]}),e[184]=ce,e[185]=xe,e[186]=he):he=e[186];let pe;e[187]!==de||e[188]!==he?(pe=t.jsxs("div",{className:"pt-4 border-t-2 border-primary/10 grid grid-cols-2 gap-4",children:[de,he]}),e[187]=de,e[188]=he,e[189]=pe):pe=e[189];let fe;e[190]!==ae||e[191]!==le||e[192]!==pe?(fe=t.jsxs("div",{className:"p-6 space-y-4",children:[ae,le,pe]}),e[190]=ae,e[191]=le,e[192]=pe,e[193]=fe):fe=e[193];let ue;e[194]!==te||e[195]!==fe?(ue=t.jsx("div",{className:"space-y-6",children:t.jsxs(o.div,{initial:ct,animate:mt,transition:xt,className:"rounded-3xl border-2 border-primary/10 bg-white dark:bg-gray-900 shadow-xl overflow-hidden sticky top-24",children:[te,fe]})}),e[194]=te,e[195]=fe,e[196]=ue):ue=e[196];let be;e[197]!==T||e[198]!==ue?(be=t.jsx("div",{className:"container mx-auto px-4 py-12 max-w-7xl",children:t.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[T,ue]})}),e[197]=T,e[198]=ue,e[199]=be):be=e[199];let ft,ut,bt;e[200]===Symbol.for("react.memo_cache_sentinel")?(ft={opacity:0,y:30},ut={opacity:1,y:0},bt={once:!0},e[200]=ft,e[201]=ut,e[202]=bt):(ft=e[200],ut=e[201],bt=e[202]);let yt;e[203]===Symbol.for("react.memo_cache_sentinel")?(yt=t.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-primary/10 shadow-lg",children:t.jsx(Lt,{className:"h-7 w-7 text-primary"})}),e[203]=yt):yt=e[203];let ye;e[204]!==a?(ye=a("research.filesAndDocuments",{defaultValue:"Files & Documents"}),e[204]=a,e[205]=ye):ye=e[205];let ge;e[206]!==ye?(ge=t.jsx("h2",{className:"text-4xl font-bold",children:ye}),e[206]=ye,e[207]=ge):ge=e[207];const Wt=s.files.length;let je;e[208]!==a?(je=a("research.filesAvailable",{defaultValue:"files available for download"}),e[208]=a,e[209]=je):je=e[209];let we;e[210]!==s.files.length||e[211]!==je?(we=t.jsxs("p",{className:"text-muted-foreground mt-1",children:[Wt," ",je]}),e[210]=s.files.length,e[211]=je,e[212]=we):we=e[212];let Ne;e[213]!==ge||e[214]!==we?(Ne=t.jsx("div",{className:"mb-8",children:t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[yt,t.jsxs("div",{children:[ge,we]})]})}),e[213]=ge,e[214]=we,e[215]=Ne):Ne=e[215];let ve;e[216]!==f||e[217]!==Nt||e[218]!==Vt||e[219]!==s.files||e[220]!==m||e[221]!==c||e[222]!==a||e[223]!==Se?(ve=Nt?t.jsx("div",{className:"rounded-3xl border-2 border-primary/10 bg-white dark:bg-gray-900 shadow-2xl overflow-hidden",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[420px,1fr]",children:[t.jsxs("div",{className:"lg:border-r-2 border-b-2 lg:border-b-0 border-primary/10 flex flex-col bg-gradient-to-b from-muted/20 to-background",children:[t.jsxs("div",{className:"border-b-2 border-primary/10 bg-gradient-to-r from-primary/5 to-background p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Lt,{className:"h-5 w-5 text-primary"}),t.jsx("span",{className:"font-bold text-lg",children:a("research.documents",{defaultValue:"Documents"})})]}),t.jsxs("span",{className:"text-sm font-semibold text-muted-foreground px-3 py-1 rounded-full bg-primary/10",children:[f.length," ",a("research.items",{defaultValue:"items"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(es,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),t.jsx("input",{type:"text",placeholder:a("research.searchFiles",{defaultValue:"Search files..."}),value:m,onChange:r=>Pt(r.target.value),className:"w-full h-12 pl-12 pr-4 rounded-xl border-2 border-primary/10 bg-background focus:border-primary focus:ring-4 focus:ring-primary/10 outline-none text-sm font-medium placeholder:text-muted-foreground"})]})]}),t.jsxs("div",{className:"border-b border-primary/10 bg-muted/20 px-5 py-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>Bt("list"),className:`p-2.5 rounded-lg transition-all ${Se==="list"?"bg-primary text-white shadow-lg":"hover:bg-muted"}`,children:t.jsx(bs,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>Bt("grid"),className:`p-2.5 rounded-lg transition-all ${Se==="grid"?"bg-primary text-white shadow-lg":"hover:bg-muted"}`,children:t.jsx(fs,{className:"h-4 w-4"})})]}),t.jsx("button",{className:"p-2.5 rounded-lg hover:bg-muted transition-colors",children:t.jsx(ns,{className:"h-4 w-4 text-muted-foreground"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4 max-h-[50vh] lg:max-h-none",children:Se==="list"?t.jsx("div",{className:"space-y-2",children:f.map((r,l)=>{const n=_t(r.mime_type,r.name),i=c===s.files.indexOf(r);return t.jsxs(o.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:l*.05},onClick:()=>Fe(s.files.indexOf(r)),className:`w-full flex items-center gap-4 p-4 rounded-xl text-left transition-all ${i?"bg-primary/10 border-2 border-primary/40 shadow-lg scale-[1.02]":"hover:bg-muted/50 border-2 border-transparent hover:border-primary/20"}`,children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-xl flex-shrink-0 ${i?"bg-primary/20 shadow-lg":"bg-primary/10"}`,children:t.jsx(n,{className:`h-6 w-6 ${i?"text-primary":"text-primary/70"}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`truncate font-semibold text-sm ${i?"text-primary":""}`,children:r.name}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[t.jsx("span",{className:"font-medium",children:ze(r.size_bytes)}),t.jsx("span",{children:"•"}),t.jsx("span",{className:"truncate uppercase",children:r.mime_type.split("/")[1]})]})]}),r.is_primary&&t.jsx("span",{className:"rounded-lg bg-primary px-3 py-1.5 text-[10px] font-bold uppercase text-white shadow-lg",children:"Primary"})]},r.id)})}):t.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.map((r,l)=>{const n=_t(r.mime_type,r.name),i=c===s.files.indexOf(r);return t.jsxs(o.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:l*.05},onClick:()=>Fe(s.files.indexOf(r)),className:`p-4 rounded-xl text-center transition-all ${i?"bg-primary/10 border-2 border-primary/40 shadow-lg":"hover:bg-muted/50 border-2 border-transparent"}`,children:[t.jsx("div",{className:`mx-auto mb-3 flex h-20 w-20 items-center justify-center rounded-xl ${i?"bg-primary/20":"bg-primary/10"}`,children:t.jsx(n,{className:`h-10 w-10 ${i?"text-primary":"text-primary/70"}`})}),t.jsx("p",{className:`text-xs font-semibold truncate ${i?"text-primary":""}`,children:r.name}),t.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 font-medium",children:ze(r.size_bytes)}),r.is_primary&&t.jsx("span",{className:"mt-2 inline-block rounded-lg bg-primary/10 px-2 py-1 text-[9px] font-bold uppercase text-primary",children:"Primary"})]},r.id)})})}),t.jsx("div",{className:"border-t-2 border-primary/10 bg-gradient-to-r from-primary/5 to-background p-4",children:t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"font-semibold text-muted-foreground",children:[f.length," ",a("research.files",{defaultValue:"files"})]}),t.jsx("span",{className:"font-bold text-primary",children:ze(s.files.reduce(js,0))})]})})]}),t.jsxs("div",{className:"flex flex-col bg-gradient-to-br from-muted/10 to-background",children:[t.jsx("div",{className:"border-b-2 border-primary/10 bg-gradient-to-r from-background to-primary/5 p-5",children:t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsx("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:(()=>{const r=s.files[c]||s.files[0],l=_t(r?.mime_type||"",r?.name||"");return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10 flex-shrink-0 shadow-lg",children:t.jsx(l,{className:"h-6 w-6 text-primary"})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"font-bold text-base truncate",children:r?.name}),t.jsxs("p",{className:"text-xs text-muted-foreground font-medium mt-0.5",children:[ze(r?.size_bytes||0)," ","• ",r?.mime_type]})]})]})})()}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>Fe(r=>r===0?s.files.length-1:r-1),disabled:s.files.length<=1,className:"p-2.5 rounded-xl border-2 border-primary/20 hover:bg-primary/5 hover:border-primary disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:t.jsx(cs,{className:"h-5 w-5"})}),t.jsxs("span",{className:"text-sm font-bold px-3 py-1 rounded-lg bg-primary/10",children:[c+1," / ",s.files.length]}),t.jsx("button",{onClick:()=>Fe(r=>r===s.files.length-1?0:r+1),disabled:s.files.length<=1,className:"p-2.5 rounded-xl border-2 border-primary/20 hover:bg-primary/5 hover:border-primary disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:t.jsx(ts,{className:"h-5 w-5"})})]})]})}),t.jsx("div",{className:"flex-1 overflow-hidden relative min-h-[400px] lg:min-h-[550px]",children:t.jsx(Ot,{mode:"wait",children:t.jsx(o.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"h-full",children:Vt(s.files[c]||s.files[0])},c)})}),t.jsx("div",{className:"border-t-2 border-primary/10 bg-gradient-to-r from-background to-primary/5 p-5",children:t.jsx("div",{className:"flex items-center justify-between gap-4",children:t.jsxs("a",{href:s.files[c]?.url,download:!0,className:"inline-flex items-center gap-2 rounded-xl bg-primary px-8 py-3 text-sm font-semibold text-white shadow-lg hover:shadow-xl hover:shadow-primary/50 transition-all",children:[t.jsx(ss,{className:"h-4 w-4"}),a("actions.download",{defaultValue:"Download File"})]})})})]})]})}):t.jsxs(o.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"py-24 text-center rounded-3xl border-2 border-dashed border-primary/20 bg-gradient-to-br from-muted/30 to-background",children:[t.jsx("div",{className:"mx-auto mb-6 flex h-28 w-28 items-center justify-center rounded-full bg-muted shadow-xl",children:t.jsx(jt,{className:"h-14 w-14 text-muted-foreground"})}),t.jsx("p",{className:"text-2xl font-bold mb-2",children:a("research.noFiles",{defaultValue:"No Files Available"})}),t.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:a("research.noFilesDesc",{defaultValue:"Files and documents will be available once uploaded by the author."})})]}),e[216]=f,e[217]=Nt,e[218]=Vt,e[219]=s.files,e[220]=m,e[221]=c,e[222]=a,e[223]=Se,e[224]=ve):ve=e[224];let ke;e[225]!==Ne||e[226]!==ve?(ke=t.jsx("section",{className:"bg-gradient-to-b from-muted/30 to-background py-16 border-t-2 border-primary/10",children:t.jsx("div",{className:"container mx-auto px-4 max-w-7xl",children:t.jsxs(o.div,{initial:ft,whileInView:ut,viewport:bt,children:[Ne,ve]})})}),e[225]=Ne,e[226]=ve,e[227]=ke):ke=e[227];let _e;e[228]!==be||e[229]!==ke||e[230]!==H?(_e=t.jsxs("div",{className:"min-h-screen bg-background",children:[H,be,ke]}),e[228]=be,e[229]=ke,e[230]=H,e[231]=_e):_e=e[231];let gt;return e[232]!==wt||e[233]!==s.title||e[234]!==_e?(gt=t.jsx(Qt,{isAuthenticated:wt,title:Rt,children:_e}),e[232]=wt,e[233]=s.title,e[234]=_e,e[235]=gt):gt=e[235],gt}function js(e,d){return e+d.size_bytes}function ws(e,d){return t.jsx("span",{className:"rounded-xl bg-primary/5 border border-primary/10 px-4 py-2 text-sm font-medium hover:bg-primary/10 transition-colors",children:e},`${e}-${d}`)}function Ns(e){return e.trim()}function vs(e){return e[0]}function ks(){return window.history.back()}function _s(e,d){const s=d.split(".").pop()?.toLowerCase();return e.startsWith("image/")?xs:e==="application/pdf"||s==="pdf"?jt:e.includes("spreadsheet")||["xls","xlsx","csv"].includes(s||"")?jt:e.includes("code")||["js","ts","jsx","tsx","py","java","php","rb","cs","cpp"].includes(s||"")?jt:["zip","rar","7z","tar","gz"].includes(s||"")?Lt:is}function Ss(e){if(!e||e<=0)return"0 B";const d=["B","KB","MB","GB"],s=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,s)).toFixed(1)} ${d[s]}`}export{Qs as default};
