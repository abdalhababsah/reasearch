import{c as hl,b as pl,r as Rt,j as t,H as ul}from"./app-XseEcuwc.js";import{A as gl}from"./app-layout-CZoO53OF.js";import{u as _l}from"./index-CR-rnG23.js";import{B as el}from"./button-DI4PaxQ7.js";import{I as x}from"./input-MwdOiVtB.js";import{T as sl}from"./textarea-UpJGMb4k.js";import{C as $t}from"./checkbox-JVt2AbBM.js";import{I as d}from"./input-error-Dx3_jmKc.js";import{B as tl}from"./badge-BtTJmYx1.js";/* empty css            */import"./x-DgzPl7e4.js";import"./index-BHKBQx4H.js";import"./index-C3Hm02L2.js";import"./index-DRE42a0L.js";import"./index-BDsVhmEQ.js";import"./index-DPjtb1Rz.js";import"./select-Bhj_cBoa.js";import"./index-BitGjllA.js";import"./app-logo-icon-3mANveO6.js";import"./index-BZB35nAZ.js";import"./index-CMWG4mbA.js";import"./app-logo-BdIHiqic.js";import"./chevron-right-BMEIDfYh.js";function zl(f){const e=hl.c(465),{statuses:g,categories:_,tags:It}=f,{t:s,locale:o}=_l();let ut;e[0]===Symbol.for("react.memo_cache_sentinel")?(ut=[],e[0]=ut):ut=e[0];let gt;e[1]===Symbol.for("react.memo_cache_sentinel")?(gt=[],e[1]=gt):gt=e[1];let _t;e[2]===Symbol.for("react.memo_cache_sentinel")?(_t=[],e[2]=_t):_t=e[2];let bt;e[3]===Symbol.for("react.memo_cache_sentinel")?(bt=[],e[3]=bt):bt=e[3];let jt;e[4]===Symbol.for("react.memo_cache_sentinel")?(jt={title_en:"",title_ar:"",abstract_en:"",abstract_ar:"",keywords_en:"",keywords_ar:"",doi:"",journal_name:"",status:"draft",is_public:!1,category_ids:ut,tag_ids:gt,files:_t,file_visibility:bt,primary_file_index:null,wallpaper:null},e[4]=jt):jt=e[4];const{data:l,setData:r,post:Mt,processing:b,errors:c,reset:Ut}=pl(jt),[h,ll]=Rt.useState(""),[p,al]=Rt.useState(""),[yt,Dt]=Rt.useState(null);let vt,Nt;e[5]!==l.wallpaper?(vt=()=>{if(!l.wallpaper){Dt(null);return}const a=URL.createObjectURL(l.wallpaper);return Dt(a),()=>URL.revokeObjectURL(a)},Nt=[l.wallpaper],e[5]=l.wallpaper,e[6]=vt,e[7]=Nt):(vt=e[6],Nt=e[7]),Rt.useEffect(vt,Nt);let wt;e[8]!==Mt||e[9]!==Ut?(wt=a=>{a.preventDefault(),Mt("/researcher/researches",{forceFormData:!0,onSuccess:()=>{Ut(),Dt(null)}})},e[8]=Mt,e[9]=Ut,e[10]=wt):wt=e[10];const Ot=wt;let kt;e[11]!==l.file_visibility||e[12]!==l.files||e[13]!==l.primary_file_index||e[14]!==r?(kt=a=>{const i=Array.from(a.target.files??[]);if(!i.length)return;const n=[...l.files??[],...i],m=[...l.file_visibility??[],...i.map(jl)];r("files",n),r("file_visibility",m),l.primary_file_index===null&&n.length>0&&r("primary_file_index",0),a.target.value=""},e[11]=l.file_visibility,e[12]=l.files,e[13]=l.primary_file_index,e[14]=r,e[15]=kt):kt=e[15];const Wt=kt;let Ct;e[16]!==r?(Ct=a=>{const i=a.target.files?.[0]??null;r("wallpaper",i)},e[16]=r,e[17]=Ct):Ct=e[17];const zt=Ct;let St;e[18]!==l.category_ids||e[19]!==r?(St=(a,i)=>{const n=l.category_ids??[],m=i?[...n,a]:n.filter(u=>u!==a);r("category_ids",m)},e[18]=l.category_ids,e[19]=r,e[20]=St):St=e[20];const Jt=St;let Bt;e[21]!==l.tag_ids||e[22]!==r?(Bt=(a,i)=>{const n=l.tag_ids??[],m=i?[...n,a]:n.filter(u=>u!==a);r("tag_ids",m)},e[21]=l.tag_ids,e[22]=r,e[23]=Bt):Bt=e[23];const Gt=Bt;let At;e[24]!==l.file_visibility||e[25]!==l.files||e[26]!==l.primary_file_index||e[27]!==r?(At=a=>{const i=(l.files??[]).filter((m,u)=>u!==a),n=(l.file_visibility??[]).filter((m,u)=>u!==a);r("files",i),r("file_visibility",n),l.primary_file_index===a?r("primary_file_index",i.length?0:null):l.primary_file_index!==null&&l.primary_file_index>a&&r("primary_file_index",l.primary_file_index-1)},e[24]=l.file_visibility,e[25]=l.files,e[26]=l.primary_file_index,e[27]=r,e[28]=At):At=e[28];const Kt=At;let Ft;if(e[29]!==_||e[30]!==h||e[31]!==o){let a;e[33]!==h||e[34]!==o?(a=i=>(o==="ar"?i.name_ar??i.name_en??"":i.name_en??i.name_ar??"").toLowerCase().includes(h.toLowerCase()),e[33]=h,e[34]=o,e[35]=a):a=e[35],Ft=_.filter(a),e[29]=_,e[30]=h,e[31]=o,e[32]=Ft}else Ft=e[32];const Pt=Ft;let Tt;if(e[36]!==o||e[37]!==p||e[38]!==It){let a;e[40]!==o||e[41]!==p?(a=i=>(o==="ar"?i.name_ar??i.name_en??"":i.name_en??i.name_ar??"").toLowerCase().includes(p.toLowerCase()),e[40]=o,e[41]=p,e[42]=a):a=e[42],Tt=It.filter(a),e[36]=o,e[37]=p,e[38]=It,e[39]=Tt}else Tt=e[39];const Vt=Tt;let j;e[43]!==s?(j=s("researches.title"),e[43]=s,e[44]=j):j=e[44];let y;e[45]!==j?(y={title:j,href:"/researcher/researches"},e[45]=j,e[46]=y):y=e[46];let v;e[47]!==s?(v=s("researches.form.createTitle"),e[47]=s,e[48]=v):v=e[48];let N;e[49]!==v?(N={title:v,href:"#"},e[49]=v,e[50]=N):N=e[50];let w;e[51]!==y||e[52]!==N?(w=[y,N],e[51]=y,e[52]=N,e[53]=w):w=e[53];let k;e[54]!==s?(k=s("researches.form.createTitle"),e[54]=s,e[55]=k):k=e[55];let C;e[56]!==k?(C=t.jsx(ul,{title:k}),e[56]=k,e[57]=C):C=e[57];let S;e[58]!==s?(S=s("researches.form.createTitle"),e[58]=s,e[59]=S):S=e[59];let B;e[60]!==S?(B=t.jsx("h1",{className:"text-xl font-semibold",children:S}),e[60]=S,e[61]=B):B=e[61];let A;e[62]!==s?(A=s("researches.form.createSubtitle",{defaultValue:"Add your research details, attach documents, and configure visibility."}),e[62]=s,e[63]=A):A=e[63];let F;e[64]!==A?(F=t.jsx("p",{className:"text-sm text-muted-foreground",children:A}),e[64]=A,e[65]=F):F=e[65];let P;e[66]!==B||e[67]!==F?(P=t.jsxs("div",{children:[B,F]}),e[66]=B,e[67]=F,e[68]=P):P=e[68];let T;e[69]!==b||e[70]!==s?(T=s(b?"actions.saving":"actions.save"),e[69]=b,e[70]=s,e[71]=T):T=e[71];let V;e[72]!==b||e[73]!==T?(V=t.jsx("div",{className:"flex gap-2",children:t.jsx(el,{type:"submit",disabled:b,className:"min-w-[120px]",children:T})}),e[72]=b,e[73]=T,e[74]=V):V=e[74];let E;e[75]!==P||e[76]!==V?(E=t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[P,V]}),e[75]=P,e[76]=V,e[77]=E):E=e[77];let H;e[78]!==s?(H=s("researches.form.basicInfo"),e[78]=s,e[79]=H):H=e[79];let L;e[80]!==H?(L=t.jsx("h2",{className:"text-base font-semibold",children:H}),e[80]=H,e[81]=L):L=e[81];let R;e[82]!==s?(R=s("researches.statuses.draft"),e[82]=s,e[83]=R):R=e[83];let $;e[84]!==R?($=t.jsx(tl,{variant:"outline",className:"text-xs",children:R}),e[84]=R,e[85]=$):$=e[85];let I;e[86]!==L||e[87]!==$?(I=t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[L,$]}),e[86]=L,e[87]=$,e[88]=I):I=e[88];let M;e[89]!==s?(M=s("researches.form.title_en"),e[89]=s,e[90]=M):M=e[90];let U;e[91]!==M?(U=t.jsx("label",{className:"block text-xs font-medium mb-1 uppercase tracking-wide",children:M}),e[91]=M,e[92]=U):U=e[92];const rl=l.title_en;let D;e[93]!==r?(D=a=>r("title_en",a.target.value),e[93]=r,e[94]=D):D=e[94];let O;e[95]!==s?(O=s("researches.form.titlePlaceholderEn"),e[95]=s,e[96]=O):O=e[96];let W;e[97]!==l.title_en||e[98]!==D||e[99]!==O?(W=t.jsx(x,{value:rl,onChange:D,placeholder:O}),e[97]=l.title_en,e[98]=D,e[99]=O,e[100]=W):W=e[100];let z;e[101]!==c.title_en?(z=t.jsx(d,{message:c.title_en}),e[101]=c.title_en,e[102]=z):z=e[102];let J;e[103]!==U||e[104]!==W||e[105]!==z?(J=t.jsxs("div",{children:[U,W,z]}),e[103]=U,e[104]=W,e[105]=z,e[106]=J):J=e[106];let G;e[107]!==s?(G=s("researches.form.title_ar"),e[107]=s,e[108]=G):G=e[108];let K;e[109]!==G?(K=t.jsx("label",{className:"block text-xs font-medium mb-1 uppercase tracking-wide",children:G}),e[109]=G,e[110]=K):K=e[110];const il=l.title_ar;let q;e[111]!==r?(q=a=>r("title_ar",a.target.value),e[111]=r,e[112]=q):q=e[112];let Q;e[113]!==s?(Q=s("researches.form.titlePlaceholderAr"),e[113]=s,e[114]=Q):Q=e[114];let X;e[115]!==l.title_ar||e[116]!==q||e[117]!==Q?(X=t.jsx(x,{value:il,onChange:q,placeholder:Q}),e[115]=l.title_ar,e[116]=q,e[117]=Q,e[118]=X):X=e[118];let Y;e[119]!==c.title_ar?(Y=t.jsx(d,{message:c.title_ar}),e[119]=c.title_ar,e[120]=Y):Y=e[120];let Z;e[121]!==K||e[122]!==X||e[123]!==Y?(Z=t.jsxs("div",{children:[K,X,Y]}),e[121]=K,e[122]=X,e[123]=Y,e[124]=Z):Z=e[124];let ee;e[125]!==J||e[126]!==Z?(ee=t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[J,Z]}),e[125]=J,e[126]=Z,e[127]=ee):ee=e[127];let se;e[128]!==s?(se=s("researches.form.abstract_en"),e[128]=s,e[129]=se):se=e[129];let te;e[130]!==se?(te=t.jsx("label",{className:"block text-xs font-medium mb-1 uppercase tracking-wide",children:se}),e[130]=se,e[131]=te):te=e[131];const cl=l.abstract_en;let le;e[132]!==r?(le=a=>r("abstract_en",a.target.value),e[132]=r,e[133]=le):le=e[133];let ae;e[134]!==s?(ae=s("researches.form.abstractPlaceholderEn"),e[134]=s,e[135]=ae):ae=e[135];let re;e[136]!==l.abstract_en||e[137]!==le||e[138]!==ae?(re=t.jsx(sl,{rows:5,value:cl,onChange:le,placeholder:ae}),e[136]=l.abstract_en,e[137]=le,e[138]=ae,e[139]=re):re=e[139];let ie;e[140]!==c.abstract_en?(ie=t.jsx(d,{message:c.abstract_en}),e[140]=c.abstract_en,e[141]=ie):ie=e[141];let ce;e[142]!==te||e[143]!==re||e[144]!==ie?(ce=t.jsxs("div",{children:[te,re,ie]}),e[142]=te,e[143]=re,e[144]=ie,e[145]=ce):ce=e[145];let ne;e[146]!==s?(ne=s("researches.form.abstract_ar"),e[146]=s,e[147]=ne):ne=e[147];let oe;e[148]!==ne?(oe=t.jsx("label",{className:"block text-xs font-medium mb-1 uppercase tracking-wide",children:ne}),e[148]=ne,e[149]=oe):oe=e[149];const nl=l.abstract_ar;let de;e[150]!==r?(de=a=>r("abstract_ar",a.target.value),e[150]=r,e[151]=de):de=e[151];let fe;e[152]!==s?(fe=s("researches.form.abstractPlaceholderAr"),e[152]=s,e[153]=fe):fe=e[153];let me;e[154]!==l.abstract_ar||e[155]!==de||e[156]!==fe?(me=t.jsx(sl,{rows:5,value:nl,onChange:de,placeholder:fe}),e[154]=l.abstract_ar,e[155]=de,e[156]=fe,e[157]=me):me=e[157];let xe;e[158]!==c.abstract_ar?(xe=t.jsx(d,{message:c.abstract_ar}),e[158]=c.abstract_ar,e[159]=xe):xe=e[159];let he;e[160]!==oe||e[161]!==me||e[162]!==xe?(he=t.jsxs("div",{children:[oe,me,xe]}),e[160]=oe,e[161]=me,e[162]=xe,e[163]=he):he=e[163];let pe;e[164]!==ce||e[165]!==he?(pe=t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[ce,he]}),e[164]=ce,e[165]=he,e[166]=pe):pe=e[166];let ue;e[167]!==s?(ue=s("researches.form.keywords_en"),e[167]=s,e[168]=ue):ue=e[168];let ge;e[169]!==ue?(ge=t.jsx("label",{className:"block text-xs font-medium mb-1 uppercase tracking-wide",children:ue}),e[169]=ue,e[170]=ge):ge=e[170];const ol=l.keywords_en;let _e;e[171]!==r?(_e=a=>r("keywords_en",a.target.value),e[171]=r,e[172]=_e):_e=e[172];let be;e[173]!==s?(be=s("researches.form.keywordsPlaceholderEn"),e[173]=s,e[174]=be):be=e[174];let je;e[175]!==l.keywords_en||e[176]!==_e||e[177]!==be?(je=t.jsx(x,{value:ol,onChange:_e,placeholder:be}),e[175]=l.keywords_en,e[176]=_e,e[177]=be,e[178]=je):je=e[178];let ye;e[179]!==s?(ye=s("researches.form.keywordsHelp"),e[179]=s,e[180]=ye):ye=e[180];let ve;e[181]!==ye?(ve=t.jsx("p",{className:"mt-1 text-[11px] text-muted-foreground",children:ye}),e[181]=ye,e[182]=ve):ve=e[182];let Ne;e[183]!==c.keywords_en?(Ne=t.jsx(d,{message:c.keywords_en}),e[183]=c.keywords_en,e[184]=Ne):Ne=e[184];let we;e[185]!==ge||e[186]!==je||e[187]!==ve||e[188]!==Ne?(we=t.jsxs("div",{children:[ge,je,ve,Ne]}),e[185]=ge,e[186]=je,e[187]=ve,e[188]=Ne,e[189]=we):we=e[189];let ke;e[190]!==s?(ke=s("researches.form.keywords_ar"),e[190]=s,e[191]=ke):ke=e[191];let Ce;e[192]!==ke?(Ce=t.jsx("label",{className:"block text-xs font-medium mb-1 uppercase tracking-wide",children:ke}),e[192]=ke,e[193]=Ce):Ce=e[193];const dl=l.keywords_ar;let Se;e[194]!==r?(Se=a=>r("keywords_ar",a.target.value),e[194]=r,e[195]=Se):Se=e[195];let Be;e[196]!==s?(Be=s("researches.form.keywordsPlaceholderAr"),e[196]=s,e[197]=Be):Be=e[197];let Ae;e[198]!==l.keywords_ar||e[199]!==Se||e[200]!==Be?(Ae=t.jsx(x,{value:dl,onChange:Se,placeholder:Be}),e[198]=l.keywords_ar,e[199]=Se,e[200]=Be,e[201]=Ae):Ae=e[201];let Fe;e[202]!==s?(Fe=s("researches.form.keywordsHelp"),e[202]=s,e[203]=Fe):Fe=e[203];let Pe;e[204]!==Fe?(Pe=t.jsx("p",{className:"mt-1 text-[11px] text-muted-foreground",children:Fe}),e[204]=Fe,e[205]=Pe):Pe=e[205];let Te;e[206]!==c.keywords_ar?(Te=t.jsx(d,{message:c.keywords_ar}),e[206]=c.keywords_ar,e[207]=Te):Te=e[207];let Ve;e[208]!==Ce||e[209]!==Ae||e[210]!==Pe||e[211]!==Te?(Ve=t.jsxs("div",{children:[Ce,Ae,Pe,Te]}),e[208]=Ce,e[209]=Ae,e[210]=Pe,e[211]=Te,e[212]=Ve):Ve=e[212];let Ee;e[213]!==we||e[214]!==Ve?(Ee=t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[we,Ve]}),e[213]=we,e[214]=Ve,e[215]=Ee):Ee=e[215];let He;e[216]!==s?(He=s("researches.form.doi",{defaultValue:"DOI"}),e[216]=s,e[217]=He):He=e[217];let Le;e[218]!==He?(Le=t.jsx("label",{className:"block text-xs font-medium mb-1 uppercase tracking-wide",children:He}),e[218]=He,e[219]=Le):Le=e[219];const fl=l.doi;let Re;e[220]!==r?(Re=a=>r("doi",a.target.value),e[220]=r,e[221]=Re):Re=e[221];let $e;e[222]!==s?($e=s("researches.form.doiPlaceholder",{defaultValue:"e.g. 10.1234/abcd.efgh"}),e[222]=s,e[223]=$e):$e=e[223];let Ie;e[224]!==l.doi||e[225]!==Re||e[226]!==$e?(Ie=t.jsx(x,{value:fl,onChange:Re,placeholder:$e}),e[224]=l.doi,e[225]=Re,e[226]=$e,e[227]=Ie):Ie=e[227];let Me;e[228]!==c.doi?(Me=t.jsx(d,{message:c.doi}),e[228]=c.doi,e[229]=Me):Me=e[229];let Ue;e[230]!==Le||e[231]!==Ie||e[232]!==Me?(Ue=t.jsxs("div",{children:[Le,Ie,Me]}),e[230]=Le,e[231]=Ie,e[232]=Me,e[233]=Ue):Ue=e[233];let De;e[234]!==s?(De=s("researches.form.journal_name",{defaultValue:"Journal Name"}),e[234]=s,e[235]=De):De=e[235];let Oe;e[236]!==De?(Oe=t.jsx("label",{className:"block text-xs font-medium mb-1 uppercase tracking-wide",children:De}),e[236]=De,e[237]=Oe):Oe=e[237];const ml=l.journal_name;let We;e[238]!==r?(We=a=>r("journal_name",a.target.value),e[238]=r,e[239]=We):We=e[239];let ze;e[240]!==s?(ze=s("researches.form.journalNamePlaceholder",{defaultValue:"Journal of Emerging Research"}),e[240]=s,e[241]=ze):ze=e[241];let Je;e[242]!==l.journal_name||e[243]!==We||e[244]!==ze?(Je=t.jsx(x,{value:ml,onChange:We,placeholder:ze}),e[242]=l.journal_name,e[243]=We,e[244]=ze,e[245]=Je):Je=e[245];let Ge;e[246]!==c.journal_name?(Ge=t.jsx(d,{message:c.journal_name}),e[246]=c.journal_name,e[247]=Ge):Ge=e[247];let Ke;e[248]!==Oe||e[249]!==Je||e[250]!==Ge?(Ke=t.jsxs("div",{children:[Oe,Je,Ge]}),e[248]=Oe,e[249]=Je,e[250]=Ge,e[251]=Ke):Ke=e[251];let qe;e[252]!==Ke||e[253]!==Ue?(qe=t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[Ue,Ke]}),e[252]=Ke,e[253]=Ue,e[254]=qe):qe=e[254];let Qe;e[255]!==qe||e[256]!==I||e[257]!==ee||e[258]!==pe||e[259]!==Ee?(Qe=t.jsxs("section",{className:"rounded-xl border bg-card p-5 shadow-sm space-y-4",children:[I,ee,pe,Ee,qe]}),e[255]=qe,e[256]=I,e[257]=ee,e[258]=pe,e[259]=Ee,e[260]=Qe):Qe=e[260];let Xe;e[261]!==s?(Xe=s("researches.form.taxonomy"),e[261]=s,e[262]=Xe):Xe=e[262];let Ye;e[263]!==Xe?(Ye=t.jsx("h2",{className:"text-base font-semibold",children:Xe}),e[263]=Xe,e[264]=Ye):Ye=e[264];let Ze;e[265]!==s?(Ze=s("researches.form.taxonomyHelp"),e[265]=s,e[266]=Ze):Ze=e[266];let es;e[267]!==Ze?(es=t.jsx("p",{className:"text-xs text-muted-foreground",children:Ze}),e[267]=Ze,e[268]=es):es=e[268];let ss;e[269]!==Ye||e[270]!==es?(ss=t.jsxs("div",{className:"flex items-center justify-between",children:[Ye,es]}),e[269]=Ye,e[270]=es,e[271]=ss):ss=e[271];let ts;e[272]!==s?(ts=s("researches.form.categories"),e[272]=s,e[273]=ts):ts=e[273];let ls;e[274]!==ts?(ls=t.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:ts}),e[274]=ts,e[275]=ls):ls=e[275];let as;e[276]!==s?(as=s("actions.search"),e[276]=s,e[277]=as):as=e[277];let Et;e[278]===Symbol.for("react.memo_cache_sentinel")?(Et=a=>ll(a.target.value),e[278]=Et):Et=e[278];let rs;e[279]!==h||e[280]!==as?(rs=t.jsx(x,{placeholder:as,value:h,onChange:Et,className:"h-8 text-xs max-w-[180px]"}),e[279]=h,e[280]=as,e[281]=rs):rs=e[281];let is;e[282]!==ls||e[283]!==rs?(is=t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[ls,rs]}),e[282]=ls,e[283]=rs,e[284]=is):is=e[284];let cs;e[285]!==l.category_ids||e[286]!==Pt||e[287]!==o||e[288]!==s||e[289]!==Jt?(cs=t.jsx("div",{className:"mt-1 max-h-48 overflow-y-auto rounded-md border p-2",children:Pt.length?t.jsx("div",{className:"flex flex-wrap gap-1.5",children:Pt.map(a=>{const i=o==="ar"?a.name_ar??a.name_en??"":a.name_en??a.name_ar??"",n=l.category_ids.includes(a.id);return t.jsxs("label",{className:`inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs transition cursor-pointer ${n?"border-primary bg-primary/10 text-primary":"border-border bg-background hover:bg-muted"}`,children:[t.jsx($t,{checked:n,onCheckedChange:()=>Jt(a.id,!n),className:"h-3 w-3"}),t.jsx("span",{className:"truncate max-w-[130px]",children:i})]},a.id)})}):t.jsx("p",{className:"text-[11px] text-muted-foreground",children:s("researches.form.noCategories")})}),e[285]=l.category_ids,e[286]=Pt,e[287]=o,e[288]=s,e[289]=Jt,e[290]=cs):cs=e[290];const qt=c.category_ids;let ns;e[291]!==qt?(ns=t.jsx(d,{message:qt}),e[291]=qt,e[292]=ns):ns=e[292];let os;e[293]!==is||e[294]!==cs||e[295]!==ns?(os=t.jsxs("div",{className:"space-y-2",children:[is,cs,ns]}),e[293]=is,e[294]=cs,e[295]=ns,e[296]=os):os=e[296];let ds;e[297]!==s?(ds=s("researches.form.tags"),e[297]=s,e[298]=ds):ds=e[298];let fs;e[299]!==ds?(fs=t.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:ds}),e[299]=ds,e[300]=fs):fs=e[300];let ms;e[301]!==s?(ms=s("actions.search"),e[301]=s,e[302]=ms):ms=e[302];let Ht;e[303]===Symbol.for("react.memo_cache_sentinel")?(Ht=a=>al(a.target.value),e[303]=Ht):Ht=e[303];let xs;e[304]!==ms||e[305]!==p?(xs=t.jsx(x,{placeholder:ms,value:p,onChange:Ht,className:"h-8 text-xs max-w-[180px]"}),e[304]=ms,e[305]=p,e[306]=xs):xs=e[306];let hs;e[307]!==fs||e[308]!==xs?(hs=t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[fs,xs]}),e[307]=fs,e[308]=xs,e[309]=hs):hs=e[309];let ps;e[310]!==l.tag_ids||e[311]!==Vt||e[312]!==o||e[313]!==s||e[314]!==Gt?(ps=t.jsx("div",{className:"mt-1 max-h-48 overflow-y-auto rounded-md border p-2",children:Vt.length?t.jsx("div",{className:"flex flex-wrap gap-1.5",children:Vt.map(a=>{const i=o==="ar"?a.name_ar??a.name_en??"":a.name_en??a.name_ar??"",n=l.tag_ids.includes(a.id);return t.jsxs("label",{className:`inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs transition cursor-pointer ${n?"border-primary bg-primary/10 text-primary":"border-border bg-background hover:bg-muted"}`,children:[t.jsx($t,{checked:n,onCheckedChange:()=>Gt(a.id,!n),className:"h-3 w-3"}),t.jsx("span",{className:"truncate max-w-[130px]",children:i})]},a.id)})}):t.jsx("p",{className:"text-[11px] text-muted-foreground",children:s("researches.form.noTags")})}),e[310]=l.tag_ids,e[311]=Vt,e[312]=o,e[313]=s,e[314]=Gt,e[315]=ps):ps=e[315];const Qt=c.tag_ids;let us;e[316]!==Qt?(us=t.jsx(d,{message:Qt}),e[316]=Qt,e[317]=us):us=e[317];let gs;e[318]!==hs||e[319]!==ps||e[320]!==us?(gs=t.jsxs("div",{className:"space-y-2",children:[hs,ps,us]}),e[318]=hs,e[319]=ps,e[320]=us,e[321]=gs):gs=e[321];let _s;e[322]!==os||e[323]!==gs?(_s=t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[os,gs]}),e[322]=os,e[323]=gs,e[324]=_s):_s=e[324];let bs;e[325]!==ss||e[326]!==_s?(bs=t.jsxs("section",{className:"rounded-xl border bg-card p-5 shadow-sm space-y-4",children:[ss,_s]}),e[325]=ss,e[326]=_s,e[327]=bs):bs=e[327];let js;e[328]!==s?(js=s("researches.form.files"),e[328]=s,e[329]=js):js=e[329];let ys;e[330]!==js?(ys=t.jsx("h2",{className:"text-base font-semibold",children:js}),e[330]=js,e[331]=ys):ys=e[331];let vs;e[332]!==s?(vs=s("researches.show.filesHelp"),e[332]=s,e[333]=vs):vs=e[333];let Ns;e[334]!==vs?(Ns=t.jsx("p",{className:"text-xs text-muted-foreground max-w-[260px] text-right",children:vs}),e[334]=vs,e[335]=Ns):Ns=e[335];let ws;e[336]!==ys||e[337]!==Ns?(ws=t.jsxs("div",{className:"flex items-center justify-between",children:[ys,Ns]}),e[336]=ys,e[337]=Ns,e[338]=ws):ws=e[338];let ks;e[339]!==s?(ks=s("researches.form.dropFilesTitle",{defaultValue:"Upload research documents"}),e[339]=s,e[340]=ks):ks=e[340];let Cs;e[341]!==ks?(Cs=t.jsx("p",{className:"text-sm font-medium",children:ks}),e[341]=ks,e[342]=Cs):Cs=e[342];let Ss;e[343]!==s?(Ss=s("researches.form.dropFilesSubtitle",{defaultValue:"Any file type: documents, code, archives, datasets, etc."}),e[343]=s,e[344]=Ss):Ss=e[344];let Bs;e[345]!==Ss?(Bs=t.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:Ss}),e[345]=Ss,e[346]=Bs):Bs=e[346];let As;e[347]!==s?(As=s("researches.form.chooseFiles"),e[347]=s,e[348]=As):As=e[348];let Fs;e[349]!==As?(Fs=t.jsx("span",{children:As}),e[349]=As,e[350]=Fs):Fs=e[350];let Ps;e[351]!==Wt?(Ps=t.jsx(x,{type:"file",multiple:!0,className:"hidden",onChange:Wt}),e[351]=Wt,e[352]=Ps):Ps=e[352];let Ts;e[353]!==Fs||e[354]!==Ps?(Ts=t.jsx("div",{className:"mt-3 flex justify-center",children:t.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-2 rounded-md border bg-background px-3 py-1.5 text-xs font-medium shadow-sm hover:bg-accent hover:text-accent-foreground",children:[Fs,Ps]})}),e[353]=Fs,e[354]=Ps,e[355]=Ts):Ts=e[355];const Xt=c.files;let Vs;e[356]!==Xt?(Vs=t.jsx(d,{message:Xt}),e[356]=Xt,e[357]=Vs):Vs=e[357];let Es;e[358]!==Cs||e[359]!==Bs||e[360]!==Ts||e[361]!==Vs?(Es=t.jsxs("div",{className:"rounded-lg border border-dashed bg-muted/40 p-4 text-center",children:[Cs,Bs,Ts,Vs]}),e[358]=Cs,e[359]=Bs,e[360]=Ts,e[361]=Vs,e[362]=Es):Es=e[362];let Hs;e[363]!==l.file_visibility||e[364]!==l.files||e[365]!==l.primary_file_index||e[366]!==Kt||e[367]!==r||e[368]!==s?(Hs=Array.isArray(l.files)&&l.files.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:s("researches.form.selectedFiles")}),t.jsx("span",{className:"text-[11px] text-muted-foreground",children:s("researches.form.primaryHint")})]}),t.jsx("ul",{className:"divide-y rounded-md border text-sm",children:l.files.map((a,i)=>t.jsxs("li",{className:"flex items-center gap-3 px-3 py-2",children:[t.jsx("input",{type:"radio",name:"primary_file_index",className:"h-3 w-3 mt-0.5",checked:l.primary_file_index===i,onChange:()=>r("primary_file_index",i)}),t.jsxs("div",{className:"flex flex-1 flex-col gap-0.5",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"truncate max-w-[220px]",children:a.name}),l.primary_file_index===i&&t.jsx(tl,{variant:"secondary",className:"text-[10px]",children:s("researches.form.primaryFile")})]}),t.jsx("span",{className:"text-[11px] text-muted-foreground",children:(a.type||"—")+" · "+yl(a.size)})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($t,{checked:l.file_visibility?.[i]??!0,onCheckedChange:n=>{const m=[...l.file_visibility??[]];m[i]=!!n,r("file_visibility",m)}}),t.jsx("span",{className:"text-[11px] text-muted-foreground",children:s("researches.show.fileVisible")})]}),t.jsx(el,{type:"button",size:"sm",variant:"ghost",className:"h-7 px-2 text-xs text-destructive",onClick:()=>Kt(i),children:s("actions.remove")})]},`${a.name}-${i}`))})]}),e[363]=l.file_visibility,e[364]=l.files,e[365]=l.primary_file_index,e[366]=Kt,e[367]=r,e[368]=s,e[369]=Hs):Hs=e[369];let Ls;e[370]!==s?(Ls=s("researches.form.wallpaper"),e[370]=s,e[371]=Ls):Ls=e[371];let Rs;e[372]!==Ls?(Rs=t.jsx("label",{className:"block text-xs font-medium mb-1 uppercase tracking-wide",children:Ls}),e[372]=Ls,e[373]=Rs):Rs=e[373];let $s;e[374]!==s?($s=s("researches.form.wallpaperHelp",{defaultValue:"Optional cover image for the research card."}),e[374]=s,e[375]=$s):$s=e[375];let Is;e[376]!==$s?(Is=t.jsx("p",{className:"text-[11px] text-muted-foreground mb-1",children:$s}),e[376]=$s,e[377]=Is):Is=e[377];let Ms;e[378]!==zt?(Ms=t.jsx(x,{type:"file",accept:"image/*",onChange:zt}),e[378]=zt,e[379]=Ms):Ms=e[379];const Yt=c.wallpaper;let Us;e[380]!==Yt?(Us=t.jsx(d,{message:Yt}),e[380]=Yt,e[381]=Us):Us=e[381];let Ds;e[382]!==Rs||e[383]!==Is||e[384]!==Ms||e[385]!==Us?(Ds=t.jsxs("div",{className:"space-y-2",children:[Rs,Is,Ms,Us]}),e[382]=Rs,e[383]=Is,e[384]=Ms,e[385]=Us,e[386]=Ds):Ds=e[386];let Os;e[387]!==s||e[388]!==yt?(Os=t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:"relative h-32 w-40 overflow-hidden rounded-lg border bg-muted",children:yt?t.jsx("img",{src:yt,alt:"Wallpaper preview",className:"h-full w-full object-cover"}):t.jsx("div",{className:"flex h-full w-full items-center justify-center text-xs text-muted-foreground",children:s("researches.form.noWallpaperPreview",{defaultValue:"No image"})})})}),e[387]=s,e[388]=yt,e[389]=Os):Os=e[389];let Ws;e[390]!==Ds||e[391]!==Os?(Ws=t.jsxs("div",{className:"mt-4 border-t pt-4 grid gap-4 md:grid-cols-[minmax(0,1fr)_200px] items-start",children:[Ds,Os]}),e[390]=Ds,e[391]=Os,e[392]=Ws):Ws=e[392];let zs;e[393]!==ws||e[394]!==Es||e[395]!==Hs||e[396]!==Ws?(zs=t.jsxs("section",{className:"rounded-xl border bg-card p-5 shadow-sm space-y-4",children:[ws,Es,Hs,Ws]}),e[393]=ws,e[394]=Es,e[395]=Hs,e[396]=Ws,e[397]=zs):zs=e[397];let Js;e[398]!==Qe||e[399]!==bs||e[400]!==zs?(Js=t.jsxs("div",{className:"space-y-6",children:[Qe,bs,zs]}),e[398]=Qe,e[399]=bs,e[400]=zs,e[401]=Js):Js=e[401];let Gs;e[402]!==s?(Gs=s("researches.form.settings"),e[402]=s,e[403]=Gs):Gs=e[403];let Ks;e[404]!==Gs?(Ks=t.jsx("h2",{className:"text-base font-semibold",children:Gs}),e[404]=Gs,e[405]=Ks):Ks=e[405];let qs;e[406]!==s?(qs=s("researches.form.status"),e[406]=s,e[407]=qs):qs=e[407];let Qs;e[408]!==qs?(Qs=t.jsx("label",{className:"block text-xs font-medium mb-1 uppercase tracking-wide",children:qs}),e[408]=qs,e[409]=Qs):Qs=e[409];const xl=l.status;let Xs;e[410]!==r?(Xs=a=>r("status",a.target.value),e[410]=r,e[411]=Xs):Xs=e[411];let Ys;e[412]!==g?(Ys=g.map(bl),e[412]=g,e[413]=Ys):Ys=e[413];let Zs;e[414]!==l.status||e[415]!==Xs||e[416]!==Ys?(Zs=t.jsx("select",{className:"w-full rounded-md border px-2 py-1.5 text-sm bg-background",value:xl,onChange:Xs,children:Ys}),e[414]=l.status,e[415]=Xs,e[416]=Ys,e[417]=Zs):Zs=e[417];let et;e[418]!==c.status?(et=t.jsx(d,{message:c.status}),e[418]=c.status,e[419]=et):et=e[419];let st;e[420]!==Qs||e[421]!==Zs||e[422]!==et?(st=t.jsxs("div",{children:[Qs,Zs,et]}),e[420]=Qs,e[421]=Zs,e[422]=et,e[423]=st):st=e[423];let tt;e[424]!==r?(tt=a=>r("is_public",!!a),e[424]=r,e[425]=tt):tt=e[425];let lt;e[426]!==l.is_public||e[427]!==tt?(lt=t.jsx($t,{checked:l.is_public,onCheckedChange:tt}),e[426]=l.is_public,e[427]=tt,e[428]=lt):lt=e[428];let at;e[429]!==s?(at=s("researches.visibility.public"),e[429]=s,e[430]=at):at=e[430];let rt;e[431]!==at?(rt=t.jsx("span",{className:"text-sm font-medium",children:at}),e[431]=at,e[432]=rt):rt=e[432];let it;e[433]!==s?(it=s("researches.form.visibilityHelp"),e[433]=s,e[434]=it):it=e[434];let ct;e[435]!==it?(ct=t.jsx("span",{className:"text-[11px] text-muted-foreground",children:it}),e[435]=it,e[436]=ct):ct=e[436];let nt;e[437]!==rt||e[438]!==ct?(nt=t.jsxs("div",{className:"flex flex-col",children:[rt,ct]}),e[437]=rt,e[438]=ct,e[439]=nt):nt=e[439];let ot;e[440]!==lt||e[441]!==nt?(ot=t.jsxs("div",{className:"flex items-center gap-2",children:[lt,nt]}),e[440]=lt,e[441]=nt,e[442]=ot):ot=e[442];const Zt=c.is_public;let dt;e[443]!==Zt?(dt=t.jsx(d,{message:Zt}),e[443]=Zt,e[444]=dt):dt=e[444];let ft;e[445]!==ot||e[446]!==dt?(ft=t.jsxs("div",{className:"space-y-2",children:[ot,dt]}),e[445]=ot,e[446]=dt,e[447]=ft):ft=e[447];let mt;e[448]!==st||e[449]!==ft?(mt=t.jsxs("div",{className:"space-y-4 text-sm",children:[st,ft]}),e[448]=st,e[449]=ft,e[450]=mt):mt=e[450];let xt;e[451]!==Ks||e[452]!==mt?(xt=t.jsx("aside",{className:"space-y-4",children:t.jsxs("section",{className:"rounded-xl border bg-card p-5 shadow-sm space-y-4",children:[Ks,mt]})}),e[451]=Ks,e[452]=mt,e[453]=xt):xt=e[453];let ht;e[454]!==Js||e[455]!==xt?(ht=t.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,2fr)_minmax(280px,1fr)]",children:[Js,xt]}),e[454]=Js,e[455]=xt,e[456]=ht):ht=e[456];let pt;e[457]!==Ot||e[458]!==ht||e[459]!==E?(pt=t.jsxs("form",{onSubmit:Ot,className:"flex flex-1 flex-col gap-6 p-4 lg:p-6",children:[E,ht]}),e[457]=Ot,e[458]=ht,e[459]=E,e[460]=pt):pt=e[460];let Lt;return e[461]!==pt||e[462]!==w||e[463]!==C?(Lt=t.jsxs(gl,{breadcrumbs:w,children:[C,pt]}),e[461]=pt,e[462]=w,e[463]=C,e[464]=Lt):Lt=e[464],Lt}function bl(f){return t.jsx("option",{value:f.value,children:f.label},f.value)}function jl(){return!0}function yl(f){if(!f||!Number.isFinite(f)||f<=0)return"0 B";const e=["B","KB","MB","GB"],g=Math.min(Math.floor(Math.log(f)/Math.log(1024)),e.length-1),_=f/Math.pow(1024,g);return`${_.toFixed(_>=10?0:1)} ${e[g]}`}export{zl as default};
