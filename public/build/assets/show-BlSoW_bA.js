import{c as Qe,u as Xe,j as s,H as Ke,L as ze}from"./app-XseEcuwc.js";import{B as c}from"./badge-BtTJmYx1.js";import{B as $e}from"./button-DI4PaxQ7.js";import{S as He}from"./separator-Bn2N1jcV.js";import{A as We}from"./app-layout-CZoO53OF.js";import{u as Ye}from"./index-CR-rnG23.js";import{L as Oe,a as Ge}from"./lock-D2olpbGm.js";import{C as Ze}from"./calendar-2H4sOr-p.js";import{T as es}from"./tag-DPY6iRJu.js";import{E as ss}from"./eye-off-DEDLrCXd.js";import{D as ts}from"./download-CEZ7BJdo.js";import{E as ls}from"./eye-It2y3WZw.js";import{F as qe}from"./app-logo-icon-3mANveO6.js";import{A as Ie}from"./arrow-left-CY72dKNG.js";/* empty css            */import"./index-C3Hm02L2.js";import"./index-DRE42a0L.js";import"./x-DgzPl7e4.js";import"./input-MwdOiVtB.js";import"./index-BHKBQx4H.js";import"./index-BDsVhmEQ.js";import"./index-DPjtb1Rz.js";import"./select-Bhj_cBoa.js";import"./index-BitGjllA.js";import"./index-BZB35nAZ.js";import"./index-CMWG4mbA.js";import"./app-logo-BdIHiqic.js";import"./chevron-right-BMEIDfYh.js";function zs(){const e=Qe.c(202),{t,locale:i}=Ye(),l=Xe().props.research;if(!l){let a;e[0]!==t?(a=t("researches.title",{defaultValue:"Researches"}),e[0]=t,e[1]=a):a=e[1];let r;e[2]!==a?(r={title:a,href:"/researcher/researches"},e[2]=a,e[3]=r):r=e[3];let de;e[4]!==t?(de=t("errors.notFound",{defaultValue:"Not found"}),e[4]=t,e[5]=de):de=e[5];let oe;e[6]!==de?(oe={title:de,href:"#"},e[6]=de,e[7]=oe):oe=e[7];let me;e[8]!==r||e[9]!==oe?(me=[r,oe],e[8]=r,e[9]=oe,e[10]=me):me=e[10];let xe;e[11]!==t?(xe=t("researches.notFound",{defaultValue:"Research not found"}),e[11]=t,e[12]=xe):xe=e[12];let fe;e[13]!==xe?(fe=s.jsx(Ke,{title:xe}),e[13]=xe,e[14]=fe):fe=e[14];let he;e[15]!==t?(he=t("researches.notFound",{defaultValue:"Research not found"}),e[15]=t,e[16]=he):he=e[16];let pe;e[17]!==he?(pe=s.jsx("h1",{className:"text-2xl font-semibold",children:he}),e[17]=he,e[18]=pe):pe=e[18];let Ee;e[19]===Symbol.for("react.memo_cache_sentinel")?(Ee=s.jsx(Ie,{className:"mr-2 h-4 w-4"}),e[19]=Ee):Ee=e[19];let ue;e[20]!==t?(ue=t("actions.back",{defaultValue:"Back"}),e[20]=t,e[21]=ue):ue=e[21];let je;e[22]!==ue?(je=s.jsx($e,{asChild:!0,children:s.jsxs(ze,{href:"/researcher/researches",children:[Ee,ue]})}),e[22]=ue,e[23]=je):je=e[23];let ge;e[24]!==je||e[25]!==pe?(ge=s.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-3",children:[pe,je]})}),e[24]=je,e[25]=pe,e[26]=ge):ge=e[26];let Re;return e[27]!==ge||e[28]!==me||e[29]!==fe?(Re=s.jsxs(We,{breadcrumbs:me,children:[fe,ge]}),e[27]=ge,e[28]=me,e[29]=fe,e[30]=Re):Re=e[30],Re}let be;e[31]!==l.files?(be=l.files??[],e[31]=l.files,e[32]=be):be=e[32];const we=be;let Ne;e[33]!==l.categories?(Ne=l.categories??[],e[33]=l.categories,e[34]=Ne):Ne=e[34];const d=Ne;let _e;e[35]!==l.tags?(_e=l.tags??[],e[35]=l.tags,e[36]=_e):_e=e[36];const ve=_e;let ye;e[37]!==i?(ye=a=>(i==="ar"?a.name_ar??a.name_en??"":a.name_en??a.name_ar??"")||"—",e[37]=i,e[38]=ye):ye=e[38];const n=ye;let ke;e[39]!==i?(ke=a=>{if(!a)return"";const r=new Date(a);return Number.isNaN(r.getTime())?a:r.toLocaleString(i,{year:"numeric",month:"short",day:"2-digit"})},e[39]=i,e[40]=ke):ke=e[40];const Pe=ke,Je=ms;let Ve;e[41]===Symbol.for("react.memo_cache_sentinel")?(Ve={draft:"bg-muted text-muted-foreground",under_review:"bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-300",published:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-300",archived:"bg-slate-200 text-slate-700 dark:bg-slate-900/40 dark:text-slate-300"},e[41]=Ve):Ve=e[41];const Ue=Ve;let Fe;e[42]!==l.status?(Fe=l.status?.replace(/_/g," ").replace(/\b\w/g,os)??"Draft",e[42]=l.status,e[43]=Fe):Fe=e[43];const o=Fe;let m;e[44]!==t?(m=t("researches.title",{defaultValue:"Researches"}),e[44]=t,e[45]=m):m=e[45];let x;e[46]!==m?(x={title:m,href:"/researcher/researches"},e[46]=m,e[47]=x):x=e[47];let f;e[48]!==l.title||e[49]!==l.title_en||e[50]!==t?(f=l.title??l.title_en??t("researches.card.untitled",{defaultValue:"Untitled"}),e[48]=l.title,e[49]=l.title_en,e[50]=t,e[51]=f):f=e[51];let h;e[52]!==f?(h={title:f,href:"#"},e[52]=f,e[53]=h):h=e[53];let p;e[54]!==h||e[55]!==x?(p=[x,h],e[54]=h,e[55]=x,e[56]=p):p=e[56];let u;e[57]!==l.title||e[58]!==l.title_en||e[59]!==t?(u=l.title??l.title_en??t("researches.card.untitled",{defaultValue:"Untitled research"}),e[57]=l.title,e[58]=l.title_en,e[59]=t,e[60]=u):u=e[60];let j;e[61]!==u?(j=s.jsx(Ke,{title:u}),e[61]=u,e[62]=j):j=e[62];let Be;e[63]===Symbol.for("react.memo_cache_sentinel")?(Be=s.jsx(Ie,{className:"mr-1 h-3 w-3"}),e[63]=Be):Be=e[63];let g;e[64]!==t?(g=t("actions.back",{defaultValue:"Back to list"}),e[64]=t,e[65]=g):g=e[65];let b;e[66]!==g?(b=s.jsx($e,{asChild:!0,variant:"ghost",size:"sm",className:"mb-2 p-0 text-xs text-muted-foreground hover:text-primary",children:s.jsxs(ze,{href:"/researcher/researches",children:[Be,g]})}),e[66]=g,e[67]=b):b=e[67];let w;e[68]!==l.title||e[69]!==l.title_en||e[70]!==t?(w=l.title??l.title_en??t("researches.card.untitled",{defaultValue:"Untitled research"}),e[68]=l.title,e[69]=l.title_en,e[70]=t,e[71]=w):w=e[71];let N;e[72]!==w?(N=s.jsx("h1",{className:"text-2xl font-semibold leading-tight",children:w}),e[72]=w,e[73]=N):N=e[73];const Ae=`border-none px-2 py-0.5 text-[11px] ${Ue[l.status]??""}`;let _;e[74]!==o||e[75]!==Ae?(_=s.jsx(c,{variant:"secondary",className:Ae,children:o}),e[74]=o,e[75]=Ae,e[76]=_):_=e[76];let v;e[77]!==l.is_public||e[78]!==t?(v=s.jsx("span",{className:"inline-flex items-center gap-1",children:l.is_public?s.jsxs(s.Fragment,{children:[s.jsx(Oe,{className:"h-3 w-3"}),t("researches.visibility.public",{defaultValue:"Public"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"h-3 w-3"}),t("researches.visibility.private",{defaultValue:"Private"})]})}),e[77]=l.is_public,e[78]=t,e[79]=v):v=e[79];let y;e[80]!==Pe||e[81]!==l.created_at?(y=l.created_at&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"•"}),s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(Ze,{className:"h-3 w-3"}),Pe(l.created_at)]})]}),e[80]=Pe,e[81]=l.created_at,e[82]=y):y=e[82];let k;e[83]!==_||e[84]!==v||e[85]!==y?(k=s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[_,v,y]}),e[83]=_,e[84]=v,e[85]=y,e[86]=k):k=e[86];let V;e[87]!==b||e[88]!==N||e[89]!==k?(V=s.jsxs("div",{className:"space-y-1",children:[b,N,k]}),e[87]=b,e[88]=N,e[89]=k,e[90]=V):V=e[90];const Me=`/researcher/researches/${l.id}/edit`;let F;e[91]!==t?(F=t("actions.edit",{defaultValue:"Edit"}),e[91]=t,e[92]=F):F=e[92];let B;e[93]!==Me||e[94]!==F?(B=s.jsx("div",{className:"flex flex-wrap gap-2",children:s.jsx($e,{asChild:!0,variant:"outline",size:"sm",children:s.jsx(ze,{href:Me,children:F})})}),e[93]=Me,e[94]=F,e[95]=B):B=e[95];let S;e[96]!==V||e[97]!==B?(S=s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[V,B]}),e[96]=V,e[97]=B,e[98]=S):S=e[98];let L;e[99]!==l.wallpaper_url?(L=l.wallpaper_url&&s.jsx("div",{className:"h-40 w-full overflow-hidden bg-muted",children:s.jsx("img",{src:l.wallpaper_url,alt:"Wallpaper",className:"h-full w-full object-cover"})}),e[99]=l.wallpaper_url,e[100]=L):L=e[100];let C;if(e[101]!==d||e[102]!==n){let a;e[104]!==n?(a=r=>s.jsx(c,{variant:"outline",className:"text-xs",children:n(r)},r.id),e[104]=n,e[105]=a):a=e[105],C=d.map(a),e[101]=d,e[102]=n,e[103]=C}else C=e[103];let E;e[106]!==d.length||e[107]!==n||e[108]!==ve?(E=ve.length>0&&s.jsxs(s.Fragment,{children:[d.length>0&&s.jsx("span",{className:"text-[10px] text-muted-foreground px-1",children:"•"}),ve.map(a=>s.jsxs(c,{variant:"secondary",className:"text-[10px] inline-flex items-center gap-1",children:[s.jsx(es,{className:"h-3 w-3"}),n(a)]},a.id))]}),e[106]=d.length,e[107]=n,e[108]=ve,e[109]=E):E=e[109];let R;e[110]!==C||e[111]!==E?(R=s.jsxs("div",{className:"flex flex-wrap gap-2",children:[C,E]}),e[110]=C,e[111]=E,e[112]=R):R=e[112];let $;e[113]!==l.abstract||e[114]!==t?($=l.abstract&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-sm font-semibold",children:t("researches.show.abstract",{defaultValue:"Abstract"})}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap leading-relaxed",children:l.abstract})]}),e[113]=l.abstract,e[114]=t,e[115]=$):$=e[115];let D;e[116]!==l.abstract_ar||e[117]!==l.abstract_en?(D=(l.abstract_en||l.abstract_ar)&&s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.abstract_en&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide",children:"EN"}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:l.abstract_en})]}),l.abstract_ar&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide",children:"AR"}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:l.abstract_ar})]})]}),e[116]=l.abstract_ar,e[117]=l.abstract_en,e[118]=D):D=e[118];let P;e[119]!==l.keywords||e[120]!==l.keywords_ar||e[121]!==l.keywords_en||e[122]!==t?(P=(l.keywords_en||l.keywords_ar||l.keywords)&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-sm font-semibold",children:t("researches.show.keywords",{defaultValue:"Keywords"})}),s.jsxs("div",{className:"flex flex-wrap gap-1.5 text-xs",children:[(l.keywords_en??l.keywords??"").split(",").map(ds).filter(Boolean).map(ns),l.keywords_ar&&l.keywords_ar.split(",").map(cs).filter(Boolean).map(is)]})]}),e[119]=l.keywords,e[120]=l.keywords_ar,e[121]=l.keywords_en,e[122]=t,e[123]=P):P=e[123];let A;e[124]!==R||e[125]!==$||e[126]!==D||e[127]!==P?(A=s.jsxs("div",{className:"space-y-4 p-5",children:[R,$,D,P]}),e[124]=R,e[125]=$,e[126]=D,e[127]=P,e[128]=A):A=e[128];let M;e[129]!==L||e[130]!==A?(M=s.jsxs("section",{className:"rounded-xl border bg-card shadow-sm overflow-hidden",children:[L,A]}),e[129]=L,e[130]=A,e[131]=M):M=e[131];let Se;e[132]===Symbol.for("react.memo_cache_sentinel")?(Se=s.jsx(qe,{className:"h-4 w-4"}),e[132]=Se):Se=e[132];let T;e[133]!==t?(T=t("researches.show.files",{defaultValue:"Files"}),e[133]=t,e[134]=T):T=e[134];let z;e[135]!==T?(z=s.jsxs("h2",{className:"text-base font-semibold flex items-center gap-2",children:[Se,T]}),e[135]=T,e[136]=z):z=e[136];let H;e[137]!==t?(H=t("researches.show.filesHelp",{defaultValue:"Primary file is the main document. Visibility controls what appears publicly."}),e[137]=t,e[138]=H):H=e[138];let U;e[139]!==H?(U=s.jsx("p",{className:"text-xs text-muted-foreground max-w-[260px] text-right",children:H}),e[139]=H,e[140]=U):U=e[140];let K;e[141]!==z||e[142]!==U?(K=s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[z,U]}),e[141]=z,e[142]=U,e[143]=K):K=e[143];let W;e[144]!==we||e[145]!==t?(W=we.length>0?s.jsx("ul",{className:"divide-y rounded-md border text-sm",children:we.map(a=>s.jsxs("li",{className:"flex flex-wrap items-center gap-3 px-3 py-2",children:[s.jsxs("div",{className:"flex-1 min-w-[180px]",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"truncate max-w-[260px]",children:a.name}),a.is_primary&&s.jsx(c,{variant:"secondary",className:"text-[10px]",children:t("researches.form.primaryFile",{defaultValue:"Primary"})}),!a.is_visible&&s.jsxs(c,{variant:"outline",className:"text-[10px] inline-flex items-center gap-1",children:[s.jsx(ss,{className:"h-3 w-3"}),t("researches.show.hidden",{defaultValue:"Hidden"})]})]}),s.jsx("div",{className:"text-[11px] text-muted-foreground",children:(a.mime_type||"—")+" · "+Je(a.size_bytes)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{asChild:!0,size:"sm",variant:"ghost",className:"h-7 px-2 text-xs",children:s.jsxs("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(ts,{className:"mr-1 h-3 w-3"}),t("actions.download",{defaultValue:"Download"})]})}),a.is_visible&&s.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] text-muted-foreground",children:[s.jsx(ls,{className:"h-3 w-3"}),t("researches.show.fileVisible",{defaultValue:"Visible"})]})]})]},a.id))}):s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 py-8 text-sm text-muted-foreground",children:[s.jsx(qe,{className:"h-8 w-8 text-muted-foreground/40"}),s.jsx("span",{children:t("researches.show.noFiles",{defaultValue:"No files uploaded yet."})})]}),e[144]=we,e[145]=t,e[146]=W):W=e[146];let O;e[147]!==K||e[148]!==W?(O=s.jsxs("section",{className:"rounded-xl border bg-card p-5 shadow-sm space-y-4",children:[K,W]}),e[147]=K,e[148]=W,e[149]=O):O=e[149];let G;e[150]!==M||e[151]!==O?(G=s.jsxs("div",{className:"space-y-6",children:[M,O]}),e[150]=M,e[151]=O,e[152]=G):G=e[152];let q;e[153]!==t?(q=t("researches.show.details",{defaultValue:"Details"}),e[153]=t,e[154]=q):q=e[154];let I;e[155]!==q?(I=s.jsx("h2",{className:"text-base font-semibold",children:q}),e[155]=q,e[156]=I):I=e[156];let J;e[157]!==t?(J=t("researches.form.status",{defaultValue:"Status"}),e[157]=t,e[158]=J):J=e[158];let Q;e[159]!==J?(Q=s.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:J}),e[159]=J,e[160]=Q):Q=e[160];const Te=`border-none px-2 py-0.5 text-[11px] ${Ue[l.status]??""}`;let X;e[161]!==o||e[162]!==Te?(X=s.jsx("div",{className:"mt-1 inline-flex items-center gap-2",children:s.jsx(c,{variant:"secondary",className:Te,children:o})}),e[161]=o,e[162]=Te,e[163]=X):X=e[163];let Y;e[164]!==Q||e[165]!==X?(Y=s.jsxs("div",{children:[Q,X]}),e[164]=Q,e[165]=X,e[166]=Y):Y=e[166];let Le;e[167]===Symbol.for("react.memo_cache_sentinel")?(Le=s.jsx(He,{}),e[167]=Le):Le=e[167];let Z;e[168]!==t?(Z=t("researches.visibility.label",{defaultValue:"Visibility"}),e[168]=t,e[169]=Z):Z=e[169];let ee;e[170]!==Z?(ee=s.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:Z}),e[170]=Z,e[171]=ee):ee=e[171];let se;e[172]!==l.is_public||e[173]!==t?(se=s.jsx("div",{className:"mt-1 inline-flex items-center gap-2",children:l.is_public?s.jsxs(s.Fragment,{children:[s.jsx(Oe,{className:"h-3 w-3"}),s.jsx("span",{children:t("researches.visibility.public",{defaultValue:"Public"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"h-3 w-3"}),s.jsx("span",{children:t("researches.visibility.private",{defaultValue:"Private"})})]})}),e[172]=l.is_public,e[173]=t,e[174]=se):se=e[174];let te;e[175]!==ee||e[176]!==se?(te=s.jsxs("div",{children:[ee,se]}),e[175]=ee,e[176]=se,e[177]=te):te=e[177];let le;e[178]!==l.keywords||e[179]!==t?(le=l.keywords&&s.jsxs(s.Fragment,{children:[s.jsx(He,{}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:t("researches.show.keywords",{defaultValue:"Keywords"})}),s.jsx("div",{className:"mt-1 flex flex-wrap gap-1.5 text-xs",children:l.keywords.split(",").map(rs).filter(Boolean).map(as)})]})]}),e[178]=l.keywords,e[179]=t,e[180]=le):le=e[180];let ae;e[181]!==l.wallpaper_url||e[182]!==t?(ae=l.wallpaper_url&&s.jsxs(s.Fragment,{children:[s.jsx(He,{}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:t("researches.form.wallpaper",{defaultValue:"Wallpaper"})}),s.jsx("div",{className:"mt-2 rounded-md border overflow-hidden",children:s.jsx("div",{className:"aspect-[4/3] bg-muted",children:s.jsx("img",{src:l.wallpaper_url,alt:"Wallpaper",className:"h-full w-full object-cover"})})})]})]}),e[181]=l.wallpaper_url,e[182]=t,e[183]=ae):ae=e[183];let re;e[184]!==Y||e[185]!==te||e[186]!==le||e[187]!==ae?(re=s.jsxs("div",{className:"space-y-3",children:[Y,Le,te,le,ae]}),e[184]=Y,e[185]=te,e[186]=le,e[187]=ae,e[188]=re):re=e[188];let ie;e[189]!==I||e[190]!==re?(ie=s.jsx("aside",{className:"space-y-4",children:s.jsxs("section",{className:"rounded-xl border bg-card p-5 shadow-sm space-y-4 text-sm",children:[I,re]})}),e[189]=I,e[190]=re,e[191]=ie):ie=e[191];let ce;e[192]!==G||e[193]!==ie?(ce=s.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,2fr)_minmax(260px,1fr)]",children:[G,ie]}),e[192]=G,e[193]=ie,e[194]=ce):ce=e[194];let ne;e[195]!==S||e[196]!==ce?(ne=s.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-4 lg:p-6",children:[S,ce]}),e[195]=S,e[196]=ce,e[197]=ne):ne=e[197];let Ce;return e[198]!==p||e[199]!==j||e[200]!==ne?(Ce=s.jsxs(We,{breadcrumbs:p,children:[j,ne]}),e[198]=p,e[199]=j,e[200]=ne,e[201]=Ce):Ce=e[201],Ce}function as(e,t){return s.jsx(c,{variant:"outline",children:e},t)}function rs(e){return e.trim()}function is(e,t){return s.jsx(c,{variant:"secondary",className:"border-dashed",children:e},`kw-ar-${t}`)}function cs(e){return e.trim()}function ns(e,t){return s.jsx(c,{variant:"outline",children:e},`kw-en-${t}`)}function ds(e){return e.trim()}function os(e){return e.toUpperCase()}function ms(e){if(!e||!Number.isFinite(e)||e<=0)return"0 B";const t=["B","KB","MB","GB"],i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),t.length-1),De=e/Math.pow(1024,i);return`${De.toFixed(De>=10?0:1)} ${t[i]}`}export{zs as default};
